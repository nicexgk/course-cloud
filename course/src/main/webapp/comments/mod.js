window.__loadJs&&window.__loadJs('/comment/mod.main.ebda3aa9.js',1);
/*!edu_modules/bkn/index*/
;define("edu_modules/bkn/index",function(e,n,t){function o(e){if(!e)return"";for(var n=5381,t=0,o=e.length;o>t;++t)n+=(n<<5)+e.charAt(t).charCodeAt();return 2147483647&n}function r(){return u("p_lskey")||u("p_skey")||u("skey")}function u(e){if(f)return"";var n=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return n?decodeURIComponent(n[2]):""}function i(){var e=0==u("uid_type");return e?r():u("uid_a2")||r()}function d(){return o(i())}var c="object"==typeof window&&window&&"undefined"!=typeof document,f=!c;t.exports=d});
/*!edu_modules/util.cookie/util.cookie*/
;define("edu_modules/util.cookie/util.cookie",function(n,e,i){function o(n){var e=document.cookie.match(new RegExp("(^| )"+n+"=([^;]*)(;|$)"));return e?decodeURIComponent(e[2]):""}var u=n("jquery"),e={get:o,set:function(n,e,i,o,u){var t=new Date;t.setTime(t.getTime()+(u?36e5*u:2592e6)),document.cookie=n+"="+e+"; expires="+t.toGMTString()+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},setSession:function(n,e,i,o){document.cookie=n+"="+e+"; path="+(o?o:"/")+"; "+(i?"domain="+i+";":"")},del:function(n,e,i){document.cookie=n+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(i?i:"/")+"; "+(e?"domain="+e+";":"")},clear:function(){var n=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var e in n)document.cookie=n[e]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "},uin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin")||o("pt2gguin")||o("adid"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)},realUin:function(){var n;return 2==o("uid_type")?o("uid_uin")||null:(n=o("p_luin")||o("p_uin")||o("uin"),n=n?parseInt(n.substring(1,n.length),10):null,n=n||parseInt(o("uin_cookie"),10)||null)}};u.cookie=e,u.reset_own_cookie=function(){u.cookie=e},i.exports=e});
/*!edu_modules/check/check*/
;define("edu_modules/check/check",function(e,i,o){e("edu_modules/util.cookie/util.cookie");var u=e("jquery");o.exports={isWeixinUser:function(){var e=u.cookie.get("uid_type");return 2==e?!0:!1}}});
/*!@tencent/im-tab-man/tab*/
;define("@tencent/im-tab-man/tab",function(t,a,n){function i(t,a){return a=a||{},t=e(t),t.data("Tab")?t.data("Tab"):this instanceof i?(this.container=t,this.container.data("Tab",this),this.tabContent=a.tabContent||"mod-tab__content",this.tabNav=a.tabNav||"mod-tab__ul",this.tabNavItem=a.tabNavItem||"mod-tab__li",this.tabCurItem=a.tabCurItem||"mod-tab__li_current",this.pos=a.pos||0,this.content=this.container.find("."+this.tabContent).eq(this.pos),this.nav=this.container.find("."+this.tabNav),this.navLis=this.nav.find("."+this.tabNavItem),this.curNav=this.navLis.eq(this.pos),void this.init()):new i(t,a)}var e=t("jquery");i.prototype={constructor:i,init:function(){var t=this;return this.nav.on("click","a",function(a){a.preventDefault();var n=e(this),i=n.closest("."+t.tabNavItem),s=i.index();i[0]!==t.curNav[0]&&(t.content.hide(),t.curNav.removeClass(t.tabCurItem),t.content=t.container.find("."+t.tabContent).eq(s),t.curNav=n.closest("."+t.tabNavItem),t.content.show(),t.curNav.addClass(t.tabCurItem),t.container.trigger("changeTab",s,t.curNav))}),this}},n.exports=i});
/*!edu_modules/local.data/local.data*/
;define("edu_modules/local.data/local.data",function(e,t,n){var r,a=function(){var e,t,n=document.getElementsByTagName("head")[0],r=window.location.hostname||"edu_database",a=new Date;if(n.addBehavior){try{t=new ActiveXObject("htmlfile"),t.open(),t.write('<script>document.w=window;</script><iframe src="/favicon.ico"></frame>'),t.close(),e=t.w.frames[0].document}catch(i){e=document}n=e.createElement("head"),e.appendChild(n),a.setDate(a.getDate()+30),n.addBehavior("#default#userData"),n.expires=a.toUTCString(),n.load(r);var o=n.XMLDocument.documentElement,c=o.attributes,u="prefix_____hack__",l=/^[-\d]/,s=new RegExp("^"+u),f=function(e){return l.test(e)?u+e:e},h=function(e){return e.replace(s,"")},d={length:c.length,notNativeCode:!0,getItem:function(e){return(c.getNamedItem(f(e))||{nodeValue:null}).nodeValue||o.getAttribute(f(e))},setItem:function(e,t){o.setAttribute(f(e),t),n.save(r),this.length=c.length},removeItem:function(e){o.removeAttribute(f(e)),n.save(r),this.length=c.length},clear:function(){for(;c.length;)this.removeItem(c[0].nodeName);this.length=0},key:function(e){return c[e]?h(c[e].nodeName):void 0}};return d}};try{r=window.localStorage,r||(r=a())}catch(i){r=a()}var o=function(e){var t=function(){return null};return e?{set:function(t,n){void 0!==this.get(t)&&this.remove(t);try{e.setItem(t,n)}catch(r){this.clear()}},get:function(t){var n=e.getItem(t);return null===n?void 0:n},remove:function(t){e.removeItem(t)},clear:function(){e.clear()},each:function(e){var t,n=this.obj(),r=e||function(){};for(t in n)if(r.call(this,t,this.get(t))===!1)break},obj:function(){var t,n,r={},a=0;if(e.isVirtualObject)r=e.key(-1);else for(t=e.length;t>a;a++)n=e.key(a),r[n]=this.get(n);return r},filter:function(t){var n,r,a=[],i=0;if(e.isVirtualObject)a=[];else for(n=e.length;n>i;i++)r=e.key(i),t.test(r)&&a.push({key:r,value:this.get(r)});return a}}:{set:t,get:t,remove:t,clear:t,each:t,obj:t,filter:t}}(r);n.exports=o});
/*!@tencent/im-observer/observer*/
;define("@tencent/im-observer/observer",function(t,r,n){var e=function(){var t={};return{listen:function(r,n){return t[r]=t[r]||[],t[r].push(n),this},remove:function(r){var n=t[r];return n?n.length=0:t[r]=void 0,this},one:function(t,r){return this.remove(t),this.listen(t,r)},trigger:function(){var r,n,e;e=Array.prototype.shift.call(arguments),n=t[e]?t[e]:t[e]=[];for(var i=0,o=n.length;o>i;i++)if(r=n[i],r.apply(this,arguments)===!1)return this;return this}}},i={},o=e();o.get=function(t){return i[t]||(i[t]=e()),i[t]},n.exports=o});
/*!edu_modules/edu-login/wxLongpoll*/
;define("edu_modules/edu-login/wxLongpoll",function(e,i,t){var o=e("edu_modules/check/check"),n=e("@tencent/im-observer/observer");t.exports={timeout:null,timespace:2e3,handle:function(){var e=this;o.isWeixinUser()&&(clearTimeout(e.timeout),n.get("login").trigger("weixinWillDone"),n.get("login").trigger("weixinDone"))},init:function(){var e=this;clearTimeout(e.timeout),e.timeout=setTimeout(function(){e.handle()},e.timespace)},destroy:function(){clearTimeout(self.timeout)}}});
/*!/edu_modules/edu-login/template/wrap.tpl_tpl*/
;define("/edu_modules/edu-login/template/wrap.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab" data-type="login"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <ul class="mod-tab__ul"> <li class="mod-tab__li mod-tab__li-qq ',qqConfig.inited?"mod-tab__li_current":"",'" data-index="0"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-qq"></i>QQ账号登录</a> </li> <li class="mod-tab__li mod-tab__li-wx ',wxConfig.inited?"mod-tab__li_current":"",'" data-index="1"> <a class="tab-link" href="javascript:void(0);"><i class="icon-font i-weixin"></i>微信账号登录</a> </li> </ul> <div class="mod-tab__content ',qqConfig.inited?"":"hide",'" data-inited="',qqConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap mod-tab__content-wrap_qq"> <iframe name="login_frame_qq" src="',qqConfig.url,'" frameborder="0" scrolling="no" width="626px" height="370px"></iframe> </div> </div> <div class="mod-tab__content ',wxConfig.inited?"":"hide",'" data-inited="',wxConfig.inited,'"> <div class="mod-tab__content-tips">微信和QQ是两个独立账号，账号信息不互通</div> <div class="mod-tab__content-wrap"> <label class="login-wx-tips">安全登录，防止被盗</label> <iframe name="login_frame_wx" src="',wxConfig.url,'" frameborder="0" scrolling="no" width="100%" height="100%"></iframe> </div> </div></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-login/template/enter.tpl_tpl*/
;define("/edu_modules/edu-login/template/enter.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="login-tab mod-tab"> <a href="javascript:void(0)" id="login_close" class="btn-close" title="关闭"> <i class="icon-font i-close"></i> </a> <div class="enter-title">选择账号登录类型</div> <div class="enter-content"> <div class="content-avatar"> <div class="avatar-img"></div> </div> <div class="content-btns"> <a href="javascript:void(0);" data-type="1" class="js-btns-enter btns-enter btns-enter-qq"> <i class="icon-font i-qq"></i>QQ登录</a> <a href="javascript:void(0);" data-type="2" class="js-btns-enter btns-enter btns-enter-wx"> <i class="icon-font i-weixin"></i>微信登录</a> </div> </div></div>'),_$out_.join("")}}});
/*!edu_modules/edu-login/edu-login*/
;define("edu_modules/edu-login/edu-login",function(require,exports,module){function bindCloseEvent(){var o=$("#login_close");o.off("click").on("click",function(){global.ptlogin2_onClose()})}function bindEvent(){var o=$(".login-tab"),e=o.find(".mod-tab__content");bindCloseEvent(),o.off("changeTab").on("changeTab",function(o,n){var i=e.eq(n);if(1!==i.data("inited")){var t=0===n?Tool.generateUrlForQq(config):Tool.generateUrlForWx();i.find("iframe").attr("src",t),i.data("inited",1)}})}function bindChooseEvent(){var o=$(".login-tab");bindCloseEvent(),o.off("click").on("click",".js-btns-enter",function(){var o=$(this),e=o.data("type");Tool.cookie.set(chooseLoginTypeCookie,e),show()})}function messageCb(o){var e=o||global.event;if(-1!==(o.origin||"").indexOf("ptlogin2")){var n;switch(n="undefined"!=typeof JSON?JSON.parse(e.data):Tool.str2JSON(e.data),n.action){case"close":global.ptlogin2_onClose();break;case"resize":global.ptlogin2_onResize(n.width,n.height)}}}function bindMessageAPI(o){"undefined"!=typeof global.postMessage&&Tool.checkMode(o)&&$win.on("message",messageCb)}function unbindMessageAPI(o){"undefined"!=typeof global.postMessage&&Tool.checkMode(o)&&$win.off("message",messageCb)}function init(o){o&&($loginFrame&&(o={succ:o.succ,close:o.close}),config=$.extend({},DEFAULT_CONFIG,o),config.succ&&succQuene.push(config.succ),config.close&&closeQuene.push(config.close))}function getFrameDom(){if($loginFrame)return $loginFrame;var o=380;return $loginFrame=$("<div>").addClass("ptlogin-wrap"),$loginFrame.css({"margin-top":-o/2,visibility:"visible",height:o}),$loginFrame}function initChoose(){$loginFrame=getFrameDom(),$loginFrame.html(enterTpl({})),$body.append($loginFrame)}function showMask(o){o&&!$mask&&($mask=$("<div>").addClass("ptlogin-mask"),$body.append($mask))}function showFrame(o){var e=1===o,n=e?Tool.generateUrlForQq(config):aboutBlank,i=e?aboutBlank:Tool.generateUrlForWx();$loginFrame=getFrameDom(),$loginFrame.html(frameTpl({qqConfig:{url:n,inited:e?1:0},wxConfig:{url:i,inited:e?0:1}})),longpoll.init(),$body.append($loginFrame)}function show(o){init(o),localStore.set("mobileBindInfo_lastLoginTime",+new Date),closeQuene.push(function(){localStore.remove("mobileBindInfo_lastLoginTime"),localStore.remove("mobileBindInfo_jump")});var e=parseInt(cookie.get(chooseLoginTypeCookie),10),n=config.needMask,i=config.mode;if(showMask(n),!$loginFrame||!$loginFrame.data("type")){if(!e)return initChoose(o),void bindChooseEvent();bindMessageAPI(i),showFrame(e),tab=new Tab(".login-tab",{pos:e-1}),bindEvent(),$.event.trigger("loginShow")}}function hide(){var o=config.mode;$mask.remove(),$loginFrame.remove(),$mask=void 0,$loginFrame=void 0,succQuene=[],closeQuene=[],unbindMessageAPI(o)}function logout(){$.getScript("//ui.ptlogin2.qq.com/js/ptloginout.js",function(){pt_logout.logout(function(){for(var o=0,e=weixinCookie.length;e>o;o++)cookie.del(weixinCookie[o],hostDomain),cookie.del(weixinCookie[o],eduDomain);localStore.remove("__userinfo"),$.event.trigger("logout"),config.onStatusChanged&&config.onStatusChanged(),location.reload()})})}function isLogin(){return!!cookie.get("p_luin")&&!!cookie.get("p_lskey")||!!cookie.get("p_uin")&&!!cookie.get("p_skey")||!!cookie.get("uin")&&!!cookie.get("skey")||!!cookie.get("uid_uin")&&!!cookie.get("uid_a2")}function setUin(o){config.uin=o}function isUinChanged(){return config.uin!=cookie.uin()}function skey(){return cookie.get("p_lskey")||cookie.get("p_skey")||cookie.get("skey")}var $=require("jquery"),Check=require("edu_modules/check/check"),Tab=require("@tencent/im-tab-man/tab"),cookie=require("edu_modules/util.cookie/util.cookie"),localStore=require("edu_modules/local.data/local.data"),longpoll=require("edu_modules/edu-login/wxLongpoll"),frameTpl=require("/edu_modules/edu-login/template/wrap.tpl_tpl"),enterTpl=require("/edu_modules/edu-login/template/enter.tpl_tpl"),DEFAULT_CONFIG={needMask:!0,mode:"xui",closeIcon:!1,target:"self",appid:715030901,daid:233},weixinCookie=["uid_a2","uid_type","uid_uin"],chooseLoginTypeCookie="ke_login_type",aboutBlank="about:blank",protocal=location.protocol,wxCssUri=[protocal,"//8.url.cn/edu/edu_modules/edu-login/nohash/wxLogin.css"].join(""),global=window,$win=$(global),$body=$("body"),tab,$mask,$loginFrame,config={},hostDomain=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],eduDomain=(location.hostname.match(/(\.\w+){3}$/)||["."+location.hostname])[0],succQuene=[],closeQuene=[],Tool={generateUrlForQq:function(o){var e={target:o.target,appid:o.appid,hide_close_icon:1-!!o.closeIcon,s_url:o.succUrl},n=[],i="/login_proxy.html"+(o.domain?"#domain="+o.domain:"");if(o.daid&&(e.daid=o.daid),o.noAuth&&(e.pt_no_auth=1),this.checkMode(config.mode)){n.push("//xui.ptlogin2"+hostDomain+"/cgi-bin/xlogin?");var t=location.href.split(/#|\?/)[0],l=t.indexOf("/",t.indexOf("//")+2),a=encodeURIComponent((-1!==l?t.substring(0,l):t)+i);e.proxy_url=o.proxyUrl||a,e.s_url=o.succUrl||a}else e.s_url=o.succUrl||encodeURIComponent("//ui.ptlogin2."+hostDomain+i),n.push("//ui.ptlogin2"+hostDomain+"/cgi-bin/login?");o.style&&(e.style=o.style),e.low_login_enable=1;for(var c in e)n.push(c+"="+e[c]);return n.join("&")},generateUrlForWx:function(){var o=location.href,e=[protocal,"//ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2","&appid=wxa1fd810b3796f1a4&buz_id=122052647&redirect_uri=",encodeURIComponent(o)].join("");return["//open.weixin.qq.com/connect/qrconnect?appid=wxa1fd810b3796f1a4&redirect_uri=",encodeURIComponent(e),"&href=",encodeURIComponent(wxCssUri),"&response_type=code&scope=snsapi_login"].join("")},execTasks:function(o){for(var e=0,n=(o||[]).length;n>e;e++)try{o[e]()}catch(i){}},checkMode:function(o){return"xui"===o},str2JSON:function(str){return eval("("+str+")")},getMaxHour:function(){var o=new Date("2038-12-31");return(o.getTime()-new Date)/36e5},cookie:{set:function(o,e){cookie.set(o,e,eduDomain,"/",Tool.getMaxHour())}}};!function(){isLogin()&&Tool.cookie.set(chooseLoginTypeCookie,Check.isWeixinUser()?2:1),global.ptlogin2_onClose=function(){Tool.execTasks(closeQuene),hide(),clearTimeout(longpoll.timeout),$.event.trigger("loginCancel")},global.ptlogin2_onResize=function(o,e){$loginFrame&&$loginFrame.css({width:o-4,height:e,"margin-top":-e/2,"margin-left":-o/2,visibility:"visible"})},global.ptlogin2_login_ok=function(){if(!config.uin)for(var o=0,e=weixinCookie.length;e>o;o++)cookie.del(weixinCookie[o],hostDomain),cookie.del(weixinCookie[o],eduDomain);Tool.execTasks(succQuene),$.event.trigger("login"),config.onStatusChanged&&config.onStatusChanged(),hide()}}();var Login={init:init,show:show,hide:hide,logout:logout,isLogin:isLogin,uin:cookie.uin,skey:skey,setUin:setUin,isUinChanged:isUinChanged};global.Login=Login,module.exports=Login});
/*!edu_modules/mm-report/mm-report*/
;define("edu_modules/mm-report/mm-report",function(n,e,o){function r(){return/\(i[^;]+;( U;)? CPU.+Mac OS X/i.test(l)?"ios":l.indexOf("android")>-1||l.indexOf("adr")>-1?"android":"pc"}function t(n){n=n||v;var e=n.length;e>10&&(e=10);var o=n.splice(0,e);if(0!=o.length){var r=g+"&uin="+o[0].uin+"&apn="+(o[0].apn||m.apn);r+="&key=cgi,type,code,time";for(var t=["cgi","type","code","time"],a=0;a<t.length;a++)for(var i=0;i<o.length;i++){var c=o[i];r+="&"+(i+1)+"_"+(a+1)+"="+c[t[a]]}r+="&ignoreRandom="+Math.random();var p=new Image;p.src=r}}function a(n){for(var e=1;e<arguments.length;e++){var o=arguments[e];if(o)for(var r in o)n[r]=o[r]}return n}function i(){for(var n=[],e=["domain","appid","platform"],o=0;o<e.length;o++){var r=e[o];n.push(r+"="+m[r])}g=f+"?"+n.join("&")}function c(n){m.platform=r(),m=a({},m,n),i()}function p(n){var e=n.delay;return 0===e||n.apn!==m.apn?(t([n]),!0):!1}function u(n,e,o,r,i){h&&clearTimeout(h);var c=a({},m,i);c.cgi=encodeURIComponent(n),c.code=e,c.time=o,c.uin=r,c.type=0===e?1:/^[4|5][0-9]{2}$/.test(e)?2:3,p(c)||(v.push(c),h=setTimeout(t,s))}var m={appid:10028,platform:"pc",domain:"ke.qq.com",rate:1,apn:""},d=location.protocol,f=d+"//report.huatuo.qq.com/code.cgi",g=f,l=navigator.userAgent.toLowerCase(),v=[],s=2e3,h=null;c(),o.exports={config:c,report:u}});
/*!edu_modules/edu-db/edu-db*/
;define("edu_modules/edu-db/edu-db",function(require,exports,module){function noop(){}function extendCallBack(e,t,a,r){return function(){!a.apply(e,t)&&r.apply(e,t)}}function extend(e,t,a){if("object"!=typeof e)return e;t=t||{};for(var r in t){var o,n;e[r]=a&&"function"==typeof(o=e[r])&&"function"==typeof(n=t[r])?extendCallBack(e,arguments,n,o):t[r]}}function encryptSkey(e){if(!e)return"";for(var t=5381,a=0,r=e.length;r>a;++a)t+=(t<<5)+e.charAt(a).charCodeAt();return 2147483647&t}var $=require("jquery"),bkn=require("edu_modules/bkn/index"),Login=require("edu_modules/edu-login/edu-login"),MM=require("edu_modules/mm-report/mm-report"),Cookie=require("edu_modules/util.cookie/util.cookie"),Check=require("edu_modules/check/check"),global=this,Badjs=window.Badjs,__DEBUG_STR__=function(){return""},$reportParam={_404:0,_5xx:0},isLoginError=!1,getCookie=Cookie.get,_uin;_uin=Check.isWeixinUser()?getCookie("uid_uin")||0:getCookie("p_luin")||getCookie("p_uin")||getCookie("uin")||0;var uinCache={},ajax=function(e,t,a,r,o,n,c){function i(e){if("string"==typeof e&&e.indexOf("uin")>=0)u=!0;else for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(u=!0),"object"==typeof e[t]&&i(e[t])}var s=new Date,u=!1;i(t);var l=e.split("?")[0];u&&!uinCache[l]&&(uinCache[l]=!0);var p={type:r,url:e,data:t,async:c===!1?!1:!0,success:function(t){function r(e){for(var t in e)"string"==typeof t&&t.indexOf("uin")>=0&&(o=!0),"object"==typeof e[t]&&r(e[t])}var o=!1;r(t);var n=e.split("?")[0];o&&!uinCache[n]&&(uinCache[n]=!0);var c=new Date-s;a&&a(t,c)},error:function(e){var t=new Date-s;a&&a({ec:e.status?e.status:-1e3},t)}};return n&&(p.timeout=n),o&&(p.dataType=o),$.ajax(p)},cache={};module.exports={abTest:!!(new Date%2),status:{bkn:""},"data-cache":{},isLoginError:function(){return isLoginError},encryptSkey:encryptSkey,getCookie:getCookie,getBkn:function(){return bkn()},initReport:function(){},get:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),-1==e.indexOf("?")&&(e+="?"),e+=c.join("&"),ajax(e,null,a,"GET",r,o,n)},post:function(e,t,a,r,o,n){var c=[];for(var i in t)c.push(i+"="+encodeURIComponent(t[i]));return c.push("r="+Math.random()),ajax(e,c.join("&"),a,"POST",r,o,n)},cgiHttp:function(opt){if(!opt||!opt.url)return void 0;var _this=this;opt.param=opt.param||{};var timeOpt={url:opt.url},httpFunction,callBack=function(data,ajax_cost){if(timeOpt.time=+new Date,"object"!=typeof data)if(data)if("{"===data.charAt(0)&&"}"===data.charAt(data.length-1))try{data=window.JSON&&JSON.parse?JSON.parse(data):eval("("+data+")")}catch(e){data={ec:999,text:data,msg:"data is no json"}}else data={ec:998,text:data,msg:"data is hijack"};else data={ec:997,text:data,msg:"data is null"};data.delay=ajax_cost,"retcode"in data?data.ec=data.retcode:data.retcode=data.ec;var ec=data.ec,errFlag;switch(ec){case 0:errFlag=!1,(opt.succ||function(){})(data);break;case 111:case-1001:case 1e5:case 100021:isLoginError=!0,window.jQuery&&window.jQuery.event.trigger("logout"),opt.noNeedLogin?errFlag=!0:"undefined"!=typeof Login?Login.show({succ:function(){opt.param.bkn=_this.status.bkn=bkn(),httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)},close:function(){"function"==typeof opt.close&&opt.close.call(this),Badjs&&Badjs("CGI Error , LoginFailed , req:"+opt.url+", ec:"+ec,location.href,0,403860,2)}}):errFlag=!0,Badjs&&Badjs("CGI Error , Need Login,  req:"+opt.url+", ec:"+ec,location.href,0,403855,2);break;case 100021:opt.ldwRetry?errFlag=!0:(opt.ldwRetry=!0,_this.status.bkn=bkn(),opt.param.bkn=_this.status.bkn,httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)),Badjs&&Badjs("CGI Error , Basekey Error , req:"+opt.url+", ec:"+ec,location.href,0,403856,2);break;case 100001:errFlag=!0,Badjs&&Badjs("CGI Error , Param Error:"+JSON.stringify(opt.param)+" , req:"+opt.url+", ec:"+ec,location.href,0,403858,2);break;case 100003:errFlag=!0,Badjs&&Badjs("CGI Error , Internal Error , req:"+opt.url+", ec:"+ec,location.href,0,403857,2);break;case-1e3:errFlag=!0,ec=data.ec=0;break;case 99999:errFlag=!0,Badjs&&Badjs("CGI Error , Need Show VerifyCode Error , red:"+opt.url+", ec:"+ec,location.href,0,0,2);break;case 101402:case 101403:case 101404:case 101405:case 101406:case 102404:case 103404:case 106401:case 106402:case 106403:case 106404:case 106405:case 106406:case 106407:case 106409:case 106410:case 106411:case 106412:case 106413:case 106415:case 106416:case 106425:case 106427:case 106435:case 106457:case 110403:case 109113:case 109122:errFlag=!0,Badjs&&Badjs("CGI Error , Bussines Error , req:"+opt.url+", ec:"+ec,location.href,0,408941,2);break;default:errFlag=!0,Badjs&&Badjs("CGI Error , Other Error , req:"+opt.url+", ec:"+ec,location.href,0,403859,2)}if(MM.report(opt.url,ec,ajax_cost,Cookie.uin()),errFlag){var isBlockDefaultErr=(opt.err||function(){})(data);if(ec&&!_this.status.isDialog&&106457!==ec)if(isBlockDefaultErr){var msg=isBlockDefaultErr.msg;if(msg){msg+=__DEBUG_STR__({url:opt.url,ret:data},"info");var __opt=isBlockDefaultErr.opt||{},_onCancel=__opt.onCancel;opt.onCancel=function(){_onCancel.apply(__opt,arguments),_this.status.isDialog=!1},$.modal.alert(msg,__opt),_this.status.isDialog=!0}}else{var defaultWording="服务器繁忙，请稍后再试",wording={100001:"输入参数错误",100003:"服务器内部错误，请稍后再试",110405:"没有管理权限，请稍后再试"}[ec]||defaultWording,_finally=function(){switch(_this.status.isDialog=!1,ec){case 106507:location.href="/index.html";break;case 106406:case 106407:case 110405:location.href="/index.html"}};if(106507===ec)return _this.status.isDialog=!0,$.modal.alert("由于触犯平台规则，机构功能禁止使用7天",{title:"提示",onCancel:_finally,onAccept:_finally,onClose:_finally});$.modal.alert(wording+("("+ec+")")+__DEBUG_STR__({url:opt.url,ret:data},"info"),{type:"err",onCancel:_finally,onAccept:_finally,onClose:_finally}),_this.status.isDialog=!0}}};opt.param.bkn=bkn(),opt.type&&"GET"!=opt.type.toUpperCase()?(opt.type="POST",httpFunction=_this.post):(opt.type="GET",httpFunction=_this.get);var ret=httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async);return ret},extend:function(e,t,a,r){var o=Object.prototype.toString.call(e);if("[object String]"===o){a=a||this;var n={};n[e]=t,extend(a,n,r)}else"[object Object]"===o&&((null===t||void 0===t)&&arguments.length>=4?(a=a||this,extend(a,e,r)):(r=a,a=t||this,extend(a,e,r)))},addCgi:function(e,t){var a=this,r={};r[e]=function(e){var r={};r.param=e.param||{},r.url=t,r.succ=function(t){(e.succ||function(){})(t)},r.err=function(t){(e.err||function(){})(t)},a.cgiHttp(r)},this.extend(r)},httpMethod:function(e){var t=this;return function(a){var r={};return r.async=e.async===!1?!1:!0,r.param=a.param,r.timeout=a.timeout,e.type&&(r.type=e.type),e.dataType&&(r.dataType=e.dataType),e.noNeedLogin&&(r.noNeedLogin=e.noNeedLogin),r.url=e.url,r.succ=function(t){return(e.succ||a.succ||noop)(t)},r.err=function(t){return(e.err||a.err||function(){})(t)},r.close=function(t){return(e.close||a.close||function(){})(t)},r.isUseModal=a.isUseModal,t.cgiHttp(r)}},wrapGroup:function(e){return e||{}},save:function(e,t){cache[e]=t},getCache:function(e){return cache[e]},clearCache:function(e){cache[e]=null}}});
/*!comment/db*/
;define("comment/db",function(e){var n=e("edu_modules/edu-db/edu-db");return n.extend({getCourseCommentInfo:n.httpMethod({url:"/cgi-bin/comment_new/course_comment_info",noNeedLogin:!0}),submitCourseComment:n.httpMethod({url:"/cgi-bin/comment_new/submit_course_comment",type:"POST"})}),n});
/*!edu_modules/tdw/tdw*/
;define("edu_modules/tdw/tdw",function(t,n,e){function r(t){var n;return i(t),n=a(t),{fields:h,datas:n}}function i(t){t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t)&&f.each(t,function(t,n){f.each(n,function(t){d[t]||(d[t]=1,h.push(t))})}))}function o(t,n){return n=n||[],n.forEach(function(n){n.forEach(function(e,r){n[r]="string"==typeof e?~w.indexOf(t[r])?e.substring(0,v):e.substring(0,b):e})}),n}function a(t){var n,e=[];return t&&(f.isPlainObject(t)&&(t=[t]),f.isArray(t))?(f.each(t,function(t,r){n=[],r=f.extend({},p,r),f.each(h,function(t,e){n.push(r[e]||"")}),e.push(n)}),e):void 0}function c(t,n){var e={};n=n||l,f.each(["table","pr_ip","pr_t"],function(t,r){e[r]=n[r]||""}),t.datas=o(t.fields,t.datas),e.fields=JSON.stringify(t.fields),e.datas=JSON.stringify(t.datas),e.retype=2,l.beforeRequest(t)!==!1&&n.url&&(f.ajax({url:n.url,data:e,dataType:"jsonp"}).done(function(n){l[0===n.ret?"success":"error"](n,t)}).fail(function(n,e,r){l.fail(t,n,e,r)}),s(t.fields,t.datas))}function u(){var t=[],n=m.read();n.length<=l.slicer?c(r(n)):(f.each(n,function(n,e){t.push(e),n>0&&n%l.slicer===l.slicer-1&&(c(r(t)),t=[])}),t.length&&c(r(t)))}function s(t,n){if(y.table)try{if(window.localStorage&&1===parseInt(window.localStorage.getItem("tdwFlag"),10))for(var e=0,r=n.length;r>e;e++){for(var i={},o=0,a=t.length;a>o;o++)""!==n[e][o]&&(i[t[o]]=n[e][o]);y.table([i])}}catch(c){}}var f=t("jquery"),l={url:"/cgi-bin/activity_platform/tdw/report",timer:300,beforeRequest:function(){},success:function(){},error:function(){},fail:function(){},slicer:8,table:"",pr_ip:"",pr_t:""},p={},d={},h=[],g=0,y=console||{},b=50,v=200,w=["url","refer"],m={pool:[],write:function(t){f.isPlainObject(t)?this.pool.push(t):f.isArray(t)&&Array.prototype.push.apply(this.pool,t)},read:function(){var t=this.pool;return this.pool=[],t}};e.exports={config:function(t,n){f.extend(p,t),f.extend(l,n),i(p)},report:function(t){m.write(t),g||(g=setTimeout(function(){u(),g=0},l.timer))},reportSync:function(t,n){n=f.extend({},l,n),c(r(t),n)},composer:r,request:c,getCommonData:function(t){return t?p[t]:p}}});
/*!edu_modules/local.data/cross.local*/
;define("edu_modules/local.data/cross.local",function(e,n,i){function t(e,n){var i,t=n||{};for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function a(e){m[e.id]&&(m[e.id](e),delete m[e.id])}function r(e){var n=e.origin,i=/(\.|^)qq\.com$/;if(i.test(n)){var t;try{t=JSON.parse(e.data)}catch(r){}t&&t.namespace===f&&("iframe-ready"===t.id?(w=!0,u.initCallback()):a(t))}}function o(e,n,i,t){s++,m[s]=t;var a={namespace:f,id:s,action:e,key:n,value:i};l.contentWindow.postMessage(JSON.stringify(a),"*")}function c(e){u=t(e,u);var n=document.createElement("div");window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r),n.innerHTML='<iframe id="'+u.iframeId+'" src='+u.iframeUrl+' style="display: none;"></iframe>',document.body.appendChild(n),l=document.getElementById(u.iframeId)}function d(){return v&&w?!0:!1}var l,f="cross-domain-local-message",u={iframeId:"cross-domain-iframe",iframeUrl:void 0,initCallback:function(){}},s=-1,m={},v=!1,w=!0;i.exports={init:function(e){if(!e.iframeUrl)throw"必须指定iframe的url";v||(v=!0,"complete"===document.readyState?c(e):window.onload=function(){c(e)})},set:function(e,n,i){d()&&o("set",e,n,i)},get:function(e,n){d()&&o("get",e,null,n)},remove:function(e,n){d()&&o("remove",e,null,n)},clear:function(e){d()&&o("clear",null,null,e)},filter:function(e,n){if(d()){var i=e.toString().replace(/(^\/)|(\/$)/g,"");o("filter",i,null,n)}},wasInit:function(){return v}}});
/*!edu_modules/local.data/power.local*/
;define("edu_modules/local.data/power.local",function(e,n,t){function o(e,n){var t,o=n||{};for(t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function r(){var e=document.domain,n=u.whiteDomain,t=!1;if(!u.crossDomain)return!1;if(0===n.length)return!1;for(var o=0;o<n.length&&e!==n[o];o++);return o===n.length&&(t=!0),t}function i(e,n){return{get:function(t,o){n?e.get(t,function(e){o&&o(e&&e.value)}):o&&o(e.get(t))},set:function(t,o,r){try{n?e.set(t,o,r):(e.set(t,o),r&&r())}catch(i){"QuotaExceededError"===i.name&&window.BJ_REPORT&&BJ_REPORT.debug({msg:"local-write-overflow",ext:{msid:2514080}})}},remove:function(t,o){n?e.remove(t,o):(e.remove(t),o&&o())},filter:function(t,o){n?e.filter(t,function(e){o&&o(e&&e.value)}):o&&o(e.filter(t))},clear:function(t){n?e.clear(t):(e.clear(),t&&t())},wasInit:function(){return n?e.wasInit():!0},isCross:function(){return n}}}function a(e,n){o(e,u),r()?(l=c,l.init({iframeUrl:u.iframeUrl,initCallback:function(){n&&n(i(l,!0))}})):n&&n(i(l))}var l=e("edu_modules/local.data/local.data"),c=e("edu_modules/local.data/cross.local"),u={whiteDomain:[],iframeUrl:"",crossDomain:!1};t.exports={getLocal:a}});
/*!edu_modules/tdw-local/tdw-local*/
;define("edu_modules/tdw-local/tdw-local",function(e,o,n){function t(e,o){if(g.wasInit&&g.wasInit()){var n=o.fields,t=o.datas,a=d.inArray(_.seqName,n);d.each(t,function(e,o){var n=_.localPrefix+o[a];g.remove(n)})}}function a(e,o){d.isPlainObject(e)?o&&o(e):d.isArray(e)&&d.each(e,function(e,n){o&&o(n)})}function i(){return(new Date).getTime()+Math.random().toFixed(17).toString().replace(".","")}function r(){g.filter(v,function(e){for(var o,n=0;n<e.length;n++)o=JSON.parse(e[n].value||"{}"),o.seq_number?(o.datas&&o.datas[0].push("local"),o.fields&&o.fields.push("source_from"),h.request(o)):g.remove(e[n].key)})}function c(){q.getLocal({whiteDomain:_.whiteDomain,iframeUrl:_.crossProxy,crossDomain:_.crossDomain},function(e){g=e,r()})}function s(e){a(e,function(e){e[_.seqName]=i()})}function u(){return p&&p.obj&&null!==p.obj()}function l(e,o){a(e,function(e){o.push(d.extend({seq_number:e[_.seqName]},h.composer(e)))})}function f(e){g.wasInit&&g.wasInit()&&d.each(e,function(e,o){var n=_.localPrefix+o[_.seqName];g.set(n,JSON.stringify(o))})}function m(e){var o=[];s(e),l(e,o),f(o)}var d=e("jquery"),w=e("edu_modules/tdw/tdw"),p=e("edu_modules/local.data/local.data"),q=e("edu_modules/local.data/power.local"),g={},h={},x=u(),_={whiteDomain:[],crossProxy:"",crossDomain:!1,localPrefix:"tdw_seq",seqName:"seq_number"},v=/^tdw_seq/;h.composer=w.composer,h.getCommonData=w.getCommonData,h.config=w.config,h.request=w.request,h.config({},{success:t}),h.report=function(e){m(e),w.report(e)},h.reportSync=function(e,o){m(e),w.reportSync(e,o)},h.initLocal=function(e){d.extend(_,e),v=new RegExp("^"+_.localPrefix),x&&c()},n.exports=h});
/*!edu_modules/report.cookie/report.from*/
;define("edu_modules/report.cookie/report.from",function(e,o,t){function i(e){var o=!n.get(r.name);setTimeout(function(){var t={action:"From"};o&&(t.ver7=e.getReportData().ver4||"4"),e.tdw(t),n.setSession(r.name,1,r.domain,r.path)},0)}var n=e("edu_modules/util.cookie/util.cookie"),r={name:"tdw_first_visited",domain:"ke.qq.com",path:"/"};t.exports=i});
/*!edu_modules/edu-report/edu-report*/
;define("edu_modules/edu-report/edu-report",function(o,e,t){var r=o("edu_modules/tdw-local/tdw-local"),n=o("jquery"),c=o("edu_modules/report.cookie/report.from"),i={};r.config({opername:"Edu"},{table:"dc00149",pr_ip:"obj3",pr_t:"ts",slicer:4}),r.initLocal&&r.initLocal({whiteDomain:["ke.qq.com"],crossProxy:"//ke.qq.com/storage_proxy.html",crossDomain:!0}),i.tdw=function(o,e){r[e?"reportSync":"report"](o)},i.toreport=function(){},i.config=function(o){r.config(n.extend({},o||{}))},i.getReportData=r.getCommonData,c(i),t.exports=i});
/*!edu_modules/report.common.init/report.common.init*/
;define("edu_modules/report.common.init/report.common.init",function(o,e,n){var r=o("edu_modules/edu-report/edu-report");n.exports=function(o){r.config(o)}});
/*!edu_modules/edu-render/edu-render*/
;define("edu_modules/edu-render/edu-render",function(e,t,r){"use strict";var n=e("jquery"),i=e("edu_modules/edu-db/edu-db");i.extend({get_taid:i.httpMethod({url:"/cgi-bin/web_ke/get_term_info",noNeedLogin:!0})}),n.render={},n.render.time=function(){function e(e,t){return parseInt(0===g?e:parseInt(e)+g*(t?1:-1))}function t(e){return("0"+e).slice(-2,3)}function r(r,n,i,u){n=n||1;var c=i?new Date(u?i:1e3*e(i,!0)):new Date,s=new Date(u?r:1e3*e(r,!0)),d=s.getHours()+":"+t(s.getMinutes()),l="";l=c.getFullYear()===s.getFullYear()&&c.getMonth()===s.getMonth()&&c.getDate()===s.getDate()?"今天":s.getMonth()+1+"月"+s.getDate()+"日";var m=["周日","周一","周二","周三","周四","周五","周六"];switch(n){case 1:return l+" "+d;case 2:return l;case 3:return d+":"+t(s.getSeconds());case 4:return a("M月DD日",s,!0)+" "+m[s.getDay()];case 5:return o(s,c,"1-en",!0);case 6:return a("YYYY-MM-DD hh:mm",s,!0);case 7:return a("YYYY-MM-DD",s,!0)}}function i(e){var t=Math.floor(e/60/60),r=Math.floor(e/60%60);return t+":"+r}function a(t,r,n){function i(e,t){return t=t.length,e=e||0,1==t?e:String(Math.pow(10,t)+e).slice(-t)}return r?("number"==typeof r&&(r=new Date(r)),!n&&(r=new Date(1e3*e(parseInt(r.valueOf()/1e3,10),!0))),t.replace(/([YMDhsm])\1*/g,function(e){switch(e.charAt()){case"Y":return i(r.getFullYear(),e);case"M":return i(r.getMonth()+1,e);case"D":return i(r.getDate(),e);case"w":return r.getDay()+1;case"h":return i(r.getHours(),e);case"m":return i(r.getMinutes(),e);case"s":return i(r.getSeconds(),e)}})):""}function o(e,t,r){r=r||"default",t=t||new Date,e=new Date(1e3*e),t=t?new Date(1e3*t):new Date;var n=p[r]||p[1],i=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);e instanceof Date&&(e=e.getTime());for(var a,o,u=i-e,c=0,s=n.length;s>c&&(a=n[c],u>1e3*a[0]);c++)o=a[1];return o}function u(e,t){e=new Date(1e3*e),t=t?new Date(1e3*t):new Date;var r=(t-e)/1e3;return 60>r?"刚刚":3600>r?Math.floor(r/60)+"分钟前":86400>r?Math.floor(r/3600)+"小时前":864e4>r?Math.floor(r/24/3600)+"天前":"很久之前"}function c(e,t){e=new Date(1e3*e),t=t?new Date(1e3*t):new Date;var r=(e-t)/1e3;if(0>r)return"已结束";if(60>r)return"1分钟";var n=Math.floor(r/3600),i=Math.ceil((r-3600*n)/60),a=(n?n+"小时":"")+(i?i+"分钟":"");return a}function s(e,t){var r=0,n=0,i=0,a=0,o="",u="",c="dd天hh小时mm分ss秒";return e=parseInt(e,10)||0,r=Math.floor(e/86400),e%=86400,n=Math.floor(e/3600),e%=3600,i=Math.floor(e/60),a=e%60,u="function"==typeof t?t(r,n,i,a)||c:"string"==typeof t?t||c:c,o=u.replace(/dd/i,r).replace(/hh/i,n).replace(/mm/i,i).replace(/ss/i,a)}function d(e,t){if(!e||!e.begintime||!e.endtime)return{ec:1};var r=1e3*e.begintime,i=1e3*e.endtime,a=(new Date).getTime(),o=0;t&&t.server_time?o=1e3*t.server_time+100-a:e.id&&v[e.id]&&(o=v[e.id]),(o>2e3||-2e3>o)&&(o=0),e.id&&o&&(v[e.id]=o),a+=o;var u;u=r>a?1:a>i?-1:0;var c={ec:0,status:u};return o&&(c.t_delta=o),-1==u&&(c.expired_str=n.render.time.format(e.endtime,5,Math.floor(a/1e3))),c}function l(e){var t,r,n=new Date(1e3*e.bgtime),i=new Date(1e3*e.endtime),o=new Date(1e3*e.systime);return n.getFullYear()===o.getFullYear()?(t="MM月DD日",r=i.getFullYear()===o.getFullYear()?"MM月DD日":"YY年MM月"):(t="YY年MM月",r="YY年MM月"),{bgtime:a(t,n),endtime:a(r,i)}}var m=480,f=(new Date).getTimezoneOffset(),g=60*(m+f),p={1:[[0,"今天"],[86400,"昨天"],[259200,"一周内"],[604800,"更早"]],"1-en":[[0,"today"],[86400,"yesterday"],[259200,"thisweek"],[604800,"earlier"]],2:[[60,"刚刚"],[3600,"$m分钟前"],[36e3,"$h小时前"],[82800,"今天"],[86400,"昨天"],[172800,"前天"],[259200,"一周内"],[604800,"一周前"],[2592e3,"一个月前"],[7776e3,"三个月前"],[15811200,"半年前"],[31536e3,"一年前"]]},v={};return{fixTimezone:e,format:r,changeHour:i,formatDate:a,courseStatus:d,fromNow:o,fromNowStr:u,fromStartTime:c,formatTermTime:l,formatRemainTime:s}}();var a=function(e,t,r){return e>=t&&r>e?!0:!1};n.render.formatStudyNum=function(e){var t="0";return t=a(e,0,1e4)?e+"":a(e,1e4,1e8)?Math.floor(e/1e4)+"万":Math.floor(e/1e8)+"亿"},n.render.fomartTermDuration=n.render.formatTermTuration=function(e){var t,r;if(e.bgtime){var i=n.render.time.formatTermTime(e);return{begin:i.bgtime+"开课",end:i.endtime+"结课"}}t="随到随学";var a=new Date(1e3*e.endtime),o=new Date(1e3*e.systime);return r=a.getFullYear()===o.getFullYear()?"MM月DD日":"YY年MM月",{begin:t,end:n.render.time.formatDate(r,a)+"结课"}},n.render.summary=function(e){return(e||"").replace(/<br>/g,"")},n.render.wrap=function(e){return(e||"").replace(/<br>/g,"\n")},n.render.qb=function(e){var t=(e/100).toFixed(2);return(t+"").replace(/\.?0{1,2}$/,"")+"Q币"},n.render.price=function(e,t,r,n){if(0===e)return n?t?"0.00":"0.00元":"免费";if(e){var i=(e/100).toFixed(2);if(r){for(var a=i.split("."),o=a[0].split(""),u=a[1],c="",s=o.length,d=s-1,l=0;d>=0;d--,l++)l%3===0&&0!==l&&(c=","+c),c=o[d]+c;i=c+"."+u}return t?i:i+"元"}return""},n.render.formatPrice=function(e,t){var r;return t||(t={}),0===e?r=t.showFreeNumber?"¥0.00":"免费":e?(r=(e/100).toFixed(2),r=t.noYen?r:"¥"+r):r="",r},n.render.url=function(){function t(e){e+="";for(var t=[],r=0;r<e.length;r++)t.push(e.charCodeAt(r).toString(16).toUpperCase());return t.join("")}function r(e,t,r,n){return e?"tencent://"+e+"/?subcmd="+t+"&param="+r+(n?"&fuin="+n:""):""}function a(e,n,i,a){return e?(i=t(i),r(e,n,i,a)):""}function o(e,t){var r,i,o;switch(e){case"all":r="groupwpa",i="all",o='{"groupUin":'+t.gc+', "timeStamp":1383552440}';break;case"OpenGroup":r="groupwpa",i="OpenGroup";var u=t.appId||0;o='{"ExtParam":{"appId":'+u+'},"groupUin":'+t.guin+',"visitor":1}';break;case"VisitPublicGroup":r="VisitPublicGroup",i="VisitPublicGroup",o='{"ExtParam":{"appId":"0"},"groupUin":'+t.gc+',"visitor":1}';break;case"CourseLive":r="VisitPublicGroup",i="VisitPublicGroupEx",o='{"ExtParam":{"appId":"21","appParam":"{\\"CourseId\\":'+t.courseId+'}"},"groupUin":'+t.gc+',"visitor":1}'}if(r){var c=n.cookie.uin()||void 0;return a(r,i,o,c)}return""}return{live:function(t,r){var a=e("edu_modules/edu-login/edu-login"),o=e("edu_modules/check/check");r||(r={});var u,c=n(t),s=c.data("cid"),d=(c.data("aid"),c.data("tid")),l=c.data("taid"),m=navigator.platform,f=!m||"Win32"===m||"Win64"===m||"Windows"===m;if(c.attr("report-close")&&c.trigger("doReport"),o.isWeixinUser())return l?void window.open("//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+d+"&taid="+l):void(f?i.get_taid({param:{course_id:s,term_id:d},succ:function(e){var t=e.result.term_info.lastest_live_task,r=t&&t.taid;window.open("//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+d+"&taid="+r)}}):(u=window.open("","_blank"),i.get_taid({param:{course_id:s,term_id:d},succ:function(e){function t(){g="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+d+"&taid="+n,u&&(u.location=g)}var r=e.result.term_info.lastest_live_task,n=r&&r.taid;setTimeout(t(),0)}})));var g=c.data("target"),p=(c.data("type"),0===g.indexOf("tencent"));if(c.attr("href","javascript:void(0);"),p){if(!a.isLogin())return void a.show({succ:function(){n(document).trigger("loginSucc"),setTimeout(function(){location.reload()},200)}});if(g=g.replace(/(&)?fuin=(\d)*/,""),!f)return l?(g="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+d+"&taid="+l,window.open(g,"_blank")):(u=window.open("","_blank"),i.get_taid({param:{course_id:s,term_id:d},succ:function(e){function t(){g="//ke.qq.com/webcourse/index.html#course_id="+s+"&term_id="+d+"&taid="+n,u?u.location=g:window.open(g,"_blank")}var r=e.result.term_info.lastest_live_task,n=r&&r.taid;setTimeout(t(),0)}})),void(p=!1)}if(p){var v=n.cookie.uin();g.indexOf("fuin")<0&&v&&(g=g+"&fuin="+v),g+="&st="+(new Date-0),r.newcard?n(document).trigger("openQQClientLiveNew",[t]):n(document).trigger("openQQClientLive",[t])}window.open(g,p?"_self":"_blank")},enterAgencyHall:function(t){var r=n(t).attr("data-target"),i=e("edu_modules/edu-login/edu-login");if(n(t).attr("href","javascript:void(0);"),n.bom.checkPlatform()){if(!i.isLogin())return void i.show({succ:function(){n(document).trigger("loginSucc"),setTimeout(function(){n(t).click()},200)}});r=r.replace(/(&)?fuin=(\d)*/,""),n(document).trigger("enterAgencyHall",[t]);var a=n.cookie.uin();r.indexOf("fuin")<0&&a&&(r=r+"&fuin="+a),r+="&st="+(new Date-0),window.open(r,"_self")}},liveForOpenRoom:function(e,t){var r=n(e).attr("data-target"),i=0===r.indexOf("tencent");if(n(e).attr("href","javascript:void(0);"),!i||n.bom.checkPlatform()){if(i&&(r=r.replace(/(&)?fuin=(\d)*/,"")),r.indexOf("fuin")<0){var a=n.cookie.uin();a&&(r+="&fuin="+a,n(e).attr("href",r))}i&&!t&&n(document).trigger("openQQClientLive",[e]),window.open(r,i?"_self":"_blank")}},discuss_old:function(e,t,r){var n=!0;return n=r.is_member?!1:r.is_pub&&r.guin?!0:!1,n?o("openGroup",{guin:r.guin}):o("all",{gc:t})},discuss:function(e,t,r){var n=!0;return r&&r.is_member&&(n=!1),n?o("VisitPublicGroup",{gc:t}):o("all",{gc:t})},course_pay:function(e){return"//ke.qq.com/course/"+e+"?pay=1"},teacher_detail:function(e){return"//ke.qq.com/teacher/"+e},course_detail:function(e){return"//ke.qq.com/course/"+e},video_play_page:function(e){return"//ke.qq.com/course/"+e},agency_detail:function(e){return"//ke.qq.com/cgi-bin/agency?aid="+e},agency_domain:function(e){return"//"+e},package_detail:function(e){return"//ke.qq.com/course/package/"+e}}}(),n.render.courseTime=function(e){var t="";return e&&e.show_id?(1==e.show_id?t=n.render.courseTimeMode1(e):2==e.show_id?t=n.render.courseTimeMode2(e):3==e.show_id&&(t=n.render.courseTimeMode3(e)),1==e.filter_holiday&&(t+="(节假日除外)"),t):t},n.render.formatLiveTime=function(e,t){var r=n.render.time.formatDate("M月D日 hh:mm",1e3*e);return r+="-",new Date(1e3*e).getDate()!=new Date(1e3*t).getDate()&&(r+="次日"),r+=n.render.time.formatDate("hh:mm",1e3*t)},n.render.timeSpan=function(e,t){var r=[],i=function(e){return 10>e?"0"+e:e};e=e||[];for(var a=0,o=e.length;o>a;a++){var u=new Date(1e3*(t?e[a].bgtime:n.render.time.fixTimezone(e[a].bgtime,!0))),c=new Date(1e3*(t?e[a].endtime:n.render.time.fixTimezone(e[a].endtime,!0)));r.push([u.getHours()+":"+i(u.getMinutes()),"~",c.getHours()+":"+i(c.getMinutes()),c.getDate()!=u.getDate()?"(第二天)":""].join(""))}return r.join("、")},n.render.formatTimeSpan=function(e,t){var r=[],i=function(e){return 10>e?"0"+e:e};e=e||[];for(var a=0,o=e.length;o>a;a++){var u=new Date(1e3*(t?e[a].bgtime:n.render.time.fixTimezone(e[a].bgtime,!0)));r.push([u.getHours()+":"+i(u.getMinutes())].join(""))}return r.join("、")},n.render.number=function(e,t,r){e=parseInt(e,10)||0,t=parseInt(t,10),r="function"==typeof r?r:function(e,t){return'<span title="'+e+'"'+(e===t?"":' class="over-size"')+">"+t+"</span>"};var n=e;return t&&(n=e>=t?t-1+"+":e),r(e,n)},n.render.number_plus=function(e){return e=parseInt(e,10)||0,(e.toString().length>4?(e/1e4).toFixed(0)+"W":e.toString()).replace(/\.0+/,"")},n.render.formatTitle=function(e){return e=e||"",e.replace(/<br>/g,"\n")},n.render.formatAnalyzeTime=function(e,t,r,n){function i(e){return 1==e.toString().length?"0"+e:e}e=e||0,r=r||"";var a=new Date;a.setDate(a.getDate()+e);var o=i(a.getFullYear()),u=i(a.getMonth()+1),c=i(a.getDate());return n?u+r+c:o+r+u+r+c},n.render.cgiErrorWording=function(){return'    <div class="section-msg">                          <div class="msg-inner">                              <i class="icon-msg-large icon-font i-info"></i>                              <div class="msg-text">服务器异常，请稍后再试!</div>                          </div>                      </div>'},n.render.showEnterRoomFailureTips=function(e){function t(){n.modal({content:c,icon:"info",title:"提示",txtYes:"使用网页上课",txtNo:"我知道了",className:"live-guide-tips",yes:function(){if(a&&o){var e="//ke.qq.com/webcourse/index.html#course_id="+a+"&term_id="+o+"&taid="+u;window.open(e)}}})}var r=n(e),a=r.data("cid"),o=r.data("tid"),u=r.data("taid"),c='<div class="modal-live-guide clearfix">              <div class="module-live-t clearfix">                  <h3 class="live-guide-title">课堂还没打开？快试试下面的修复方法</h3>              </div>              <div class="guide-hint">                  <p class="guide-hint-p">1. 浏览器是否有加载提示？若有请点击允许</p><br/>                  <p class="guide-hint-p">2. 确认已安装<a href="http://im.qq.com/pcqq" target="_blank" class="nor-link">最新版QQ</a>。若重新装了QQ，请重启浏览器。(重启浏览器前，可复制该页面的地址以便重新进入）</p><br/>                  <p class="guide-hint-p">3. 重新打开这个页面，再次进入课堂。</p>              </div>          </div>';u?t():i.get_taid({param:{course_id:a,term_id:o},succ:function(e){var r=e.result.term_info.lastest_live_task;u=r&&r.taid,t()}})},n.render.courseFlags=function(e,t,r,i){var a=0,o=[];if(n.isArray(e)){var u=e.length;a=Math.min(t,u);for(var c=0;a>c;c++)n.trim(e[c].name).length>0&&o.push('<a class="flags-item flags-item-'+e[c].id+'" data-id="'+e[c].id+'" href="javascript:;" title="'+e[c].name+'">'+strEllipsis.substring(e[c].name,84,1)+'<i class="flags-close">&times;</i></a>')}return r&&t>a&&o.push('<a class="flags-add" href="javascript:;"'+(i?' auto-test="'+i+'"':"")+'><i class="plus">+</i>添加</a>'),o.join("")},n.render.orderCourseStateMap=function(e){var t="";switch(e){case 4:t="报名失败";break;case 1:case 5:t="报名成功";break;case 2:case 3:case 6:case 7:t="订单确认中";break;case 8:case 9:t="退款中";break;case 10:t="退款完成";break;case 11:t="退款失败"}return t},n.render.orderStateMap=function(e){var t=["","待付款","付款确认中","已付款","","退款中","已退款","退款确认中"];return t[e]||""},n.render.settlemenStateMap=function(e){var t="";switch(e){case 1:t="结算中";break;case 2:t="已结算";break;case 3:t="未结算";break;case 4:t="无需结算"}return t},n.render.fixImageWidth=function(e,t){return e+(e.indexOf("/eth/")>-1?t:"")},n._toArray=function(e,t){if(n.isArray(e))return e;try{return t&&(e=html.decode(e)),e=JSON.parse(e),n.isArray(e)?e:[]}catch(r){return[]}},n.render.number_cn=function(e,t){t=t||1;var r=[],n=["","十","百","千"],i="零一二三四五六七八九十";for(e=Math.max(parseInt(e,10)||t,t).toString().split("");e.length;){var a=parseInt(e.shift(),10);r.push(i.charAt(a)+(0===a?"":n[e.length]))}return r.join("").replace(/^一(十)|零+$/g,"$1")},n.render.str={unescapeSpace:function(e){return(e||"").replace(/&nbsp;/g," ")},unescapeBR:function(e){return(e||"").replace(/<br>/g,"&#10;")},removeProtocol:function(e){var t=/(href="|src="|href=&quot;|src=&quot;)http:\/\/(jsonp.ke.qq.com|ke.qq.com|\d{1,2}.url.cn|export.highcharts.com|p.qic.cn|mobileapp.ke.qq.com|imgcache.gtimg.cn|imgcache.qq.com|qzs.qq.com|q.qlogo.cn|p.qlogo.cn|captcha.qq.com|xui.ptlogin2.qq.com|ui.ptlogin2.qq.com|open.weixin.qq.com|qplus3.idqqimg.com|badjs2.qq.com|cgi.pub.qq.com)/g;return(e||"").replace(t,"$1//$2")}},n.render.score={toStar:function(e){var t,r,n="";e=(e||0)/100,t=parseInt(e,10),r=e-t;for(var i=0;t>i;i++)n+='<i class="no-event"></i>';r>.25&&.75>r?(t+=1,n+='<i class="no-event half-star"></i>'):r>.75&&(t+=1,n+='<i class="no-event"></i>');var a=5-t;if(a>0)for(var o=0;a>o;o++)count++,n+='<i class="no-event"></i>';return n},toString:function(e){return e=((e||0)+5)/100,e.toFixed(1)}},r.exports=n});
/*!edu_modules/validator/validator*/
;define("edu_modules/validator/validator",function(t,e,r){function n(){var t=this.validator={version:"0.0.1",succCls:"g-succ",infoCls:"g-info",errCls:"g-err",notAsciiWidth:2,parentSelector:".mod-form__line",resultSelector:".field-help",fieldSelector:".f-field",validate_timeout:300,msg:"",reg:{email:/^(\w)+(\.\w+)*@(\w)+((\.\w+)+)$/,mobile:/^1\d{10}$/,uin:/^[1-9](\d{4,10}|\d{17})$/,ascii:/^[\x00-\x7F]+$/,asciiSingle:/[\x00-\xFF]/,notAscii:/[^\x00-\x7F]/,fullWidth:/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,halfWidth:/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/,uppercase:/[A-Z]/,lowercase:/[a-z]/,integer:/^\d+$/,date:/^(?:20|19)\d\d([-\/\\\.])(?:0?[1-9]|1[0-2])\1(?:[012]?\d|3[01])$/,time:/^(?:[01]?\d|2[0-3])[:：][0-5]?\d$/,url:/^https?:\/\//,ltrim:/^\s+/,rtrim:/\s+$/,matches:function(t,e,r){return("[object RegExp]"!==Object.prototype.toString.call(e)?new RegExp(e,r):e).test(t)},extend:function(t,e){this[t]=e}},toNumber:function(t){return t.replace(/\D/g,"")},toInt:function(t,e,r){return parseInt(t,e||10)||r||0},toDate:function(e,r){return/^\d{13}$/.test(e)?new Date(parseInt(e,10)):("string"==typeof e&&(e=e.replace(/-/g,"/")),t.date(e)?new Date(e):r||new Date)},toDateWithOutHMS:function(e,r){return e=t.toDate(e,r),e.setHours(0,0,0,0),e},getTime:function(e,r){return e=t.toDate(e),e?e.getTime():r||+new Date},pass:function(){return!0},integer:function(e){return t.reg.integer.test(e.toString())},not_null:function(t){return 0!==t.length},date_ipt:function(e){return t.reg.date.test(e.toString())},time:function(e){return t.reg.time.test(e.toString())},url:function(e){return t.reg.url.test(e.toString())},limit_number:function(e,r){var n=parseInt(e,10),a=parseInt(r.data("min"),10),s=parseInt(r.data("max"),10);return a>n||n>s?(t.msg=["请输入",a,"-",s].join(""),!1):!0},str_length:function(e,r,n){e=(e||"").toString(),!n&&(e=a.trim(e));var s=0;r=r||t.notAsciiWidth;for(var i=0,o=e.length;o>i;i++)s+=e.charCodeAt(i)<128?1:r;return Math.ceil(s/r)},limit:function(e,r){e=(e||"").toString(),r.data("trim")&&(e=a.trim(e));for(var n=0,s=t.notAsciiWidth,i=0,o=e.length;o>i;i++)n+=e.charCodeAt(i)<128?1:s;var l=parseInt(r.data("min"),10),u=parseInt(r.data("max"),10);return l&&s*l>n?(t.msg=(u?["请填写",l,"-",u,"个字"]:["请至少填写",l,"个字"]).join(""),!1):u&&n>s*u?(t.msg="字数超出"+Math.ceil((n-s*u)/s)+"个",!1):!0},limitByLength:function(e,r){var n=(e||"").length,a=parseInt(r.data("min"),10),s=parseInt(r.data("max"),10);return a&&a>n?(t.msg=(s?["请填写",a,"-",s,"个字"]:["请至少填写",a,"个字"]).join(""),!1):s&&n>s?(t.msg="字数超出"+(n-s)+"个",!1):!0},mobile:function(e){return t.reg.mobile.test(e)},uin:function(e){return t.reg.uin.test(e)},email:function(e){return t.reg.email.test(e)},date:function(t){return"string"==typeof t&&(t=t.replace(/-/g,"/")),"string"!=typeof t||/\d{4}\/\d{1,2}\/\d{1,2}/.test(t)?!isNaN(Date.parse(t)):!1},uppercase:function(e){return!t.reg.lowercase.test(e)},lowercase:function(e){return!t.reg.uppercase.test(e)},JSON:function(t){try{JSON.parse(t)}catch(e){return!(e instanceof SyntaxError)}return!0},getMsgHtml:function(t){return"<i></i><p>{{msg}}</p>".replace(/{{msg}}/g,t||"")},setSuccess:function(e){return t.ignore||e.closest(t.parentSelector).removeClass(t.errCls+" "+t.infoCls).addClass(t.succCls).find(t.resultSelector).html(t.getMsgHtml(t.succMsg||"","succ")),t.ignore=!1,t.msg="",t.succMsg="",!0},setTips:function(e){return e.closest(t.parentSelector).removeClass(t.errCls+" "+t.succCls).addClass(t.infoCls).find(t.resultSelector).html(t.getMsgHtml(t.msg||e.data("tips"),"tips")),t.msg="",!0},setError:function(e){return e.closest(t.parentSelector).removeClass(t.infoCls+" "+t.succCls).addClass(t.errCls).find(t.resultSelector).html(t.getMsgHtml(t.msg||e.data("msg"),"err")),t.msg="",!1},hasError:function(e){var r=e.closest(t.parentSelector);return r.hasClass(t.errCls)},clearValidateResult:function(e){return e.closest(t.parentSelector).removeClass(t.errCls+" "+t.succCls+" "+t.infoCls)},isNeedValidate:function(e){var r=e.closest(t.parentSelector);return r.hasClass(t.errCls)||r.hasClass(t.succCls)||r.hasClass(t.infoCls)},if_not_null_then:function(t){return t.length?!0:"break"},check:function(e,r,n,s){var i=!0,o=(e.data("pattern")||"").toString().split("|"),l=(e.data("msg")||"").toString().split("|"),u=e.val()||e.data("value")||"",c="";if("string"==typeof u){switch(e.data("prefix")){case"number":/\D/.test(u)&&(u=t.toNumber(u),e.val(u));break;case"float":/[^\d\-\.]/.test(u)&&(u=u.replace(/[^\d\-\.]/g,""),e.val(u));break;case"ltrim":t.reg.ltrim.test(u)&&(u=u.replace(t.reg.ltrim,""),e.val(u))}r||(u=a.trim(u))}for(var d=0,f=o.length;f>d&&i;d++){var g=o[d];if("function"==typeof t[g]){c=l[d]?l[d]:"",s&&c&&(t.msg=c);var p=t[g](u,e);i=!!p&&i;var m=e.data("msg-"+g);if(m&&(c=m),"break"===p)break}else""===g&&1===o.length?i=!0:(i=!1,console.warn&&void 0)}return n&&n(i),i},checkOne:function(e,r,n,a){t.msg="";var s=!0;return s="function"==typeof t[n]?t[n](r,e):""===n?!0:!1,"function"==typeof a&&a(s,t.msg),s=s===!1?t.msg||!1:s},validate:function(e,r){var n=t.check(e,r,!1,!0);return t.noResult&&(t.msg=""),t.noResult?n:n?t.setSuccess(e):t.setError(e)},bind:function(e){if(!e.data("__validate")){if(0===e.closest(t.parentSelector).find(t.resultSelector).length){var r=e.closest(t.fieldSelector),n='<div class="'+t.resultSelector.replace(/^\./,"")+'"></div>';r.length>0?r.append(n):e.after(n)}if(e.is(":input")){var a=function(){t.validate(e)};e.on("keyup paste",function(){e.data("noinput")||a()}),e.blur(function(){e.data("noblur")||a()}).focus(function(){e.data("nofocus")||t.setTips(e)})}e.data("__validate",1)}},all:function(e,r){t.isAll=!0,t.noResult=!!r;var n=e?a(e):a("[data-pattern]").not(".nopattern, .disabled"),s=!0;return n.each(function(){s=t.validate(a(this))&&s}),t.isAll=!1,t.noResult=!1,s},init:function(e,r){r=r||a(document);var n=r.find(e?e:":input[data-pattern]");n.each(function(){t.bind(a(this))})},extend:function(e,r){t[e]=function(){var e=Array.prototype.slice.call(arguments);return r.apply(t,e)}}}}var a=t("jquery");n.prototype.setOptions=function(t){return this.validator=a.extend(!0,this.validator,t),this},a.Validator=n,a.validator=(new n).validator,r.exports=a.validator});
/*!@tencent/im-jquery.placeholder/jquery.placeholder*/
;define("@tencent/im-jquery.placeholder/jquery.placeholder",function(e){function a(e){var a={},t=/^jQuery\d+$/;return c.each(e.attributes,function(e,l){l.specified&&!t.test(l.name)&&(a[l.name]=l.value)}),a}function t(e,a){var t=this,l=c(t);if(t.value==l.attr("placeholder")&&l.hasClass("placeholder"))if(l.data("placeholder-password")){if(l=l.hide().next().show().attr("id",l.removeAttr("id").data("placeholder-id")),e===!0)return l[0].value=a;l.focus()}else t.value="",l.removeClass("placeholder"),t==r()&&t.select()}function l(){var e,l=this,r=c(l),o=this.id;if(""==l.value){if("password"==l.type){if(!r.data("placeholder-textinput")){try{e=r.clone().attr({type:"text"})}catch(d){e=c("<input>").attr(c.extend(a(this),{type:"text"}))}e.removeAttr("name").data({"placeholder-password":r,"placeholder-id":o}).bind("focus.placeholder",t),r.data({"placeholder-textinput":e,"placeholder-id":o}).before(e)}r=r.removeAttr("id").hide().prev().attr("id",o).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}function r(){try{return document.activeElement}catch(e){}}var o,d,c=e("jquery"),n="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!n,u="placeholder"in document.createElement("textarea")&&!n,p=c.fn,h=c.valHooks,s=c.propHooks;i&&u?(d=p.placeholder=function(){return this},d.input=d.textarea=!0):(d=p.placeholder=function(){var e=this;return e.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":t,"blur.placeholder":l}).data("placeholder-enabled",!0).trigger("blur.placeholder"),e},d.input=i,d.textarea=u,o={get:function(e){var a=c(e),t=a.data("placeholder-password");return t?t[0].value:a.data("placeholder-enabled")&&a.hasClass("placeholder")?"":e.value},set:function(e,a){var o=c(e),d=o.data("placeholder-password");return d?d[0].value=a:o.data("placeholder-enabled")?(""==a?(e.value=a,e!=r()&&l.call(e)):o.hasClass("placeholder")?t.call(e,!0,a)||(e.value=a):e.value=a,o):e.value=a}},i||(h.input=o,s.value=o),u||(h.textarea=o,s.value=o),c(function(){c(document).delegate("form","submit.placeholder",function(){var e=c(".placeholder",this).each(t);setTimeout(function(){e.each(l)},10)})}))});
/*!/edu_modules/pagectrl/page.tpl_tpl*/
;define("/edu_modules/pagectrl/page.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];if(total>1){_$out_.push(" ");var index="undefined"!=typeof idx?idx:1,isFirst=1==index?!0:!1,isLast=index==total?!0:!1,from=parseInt(index-max/2),to=parseInt(index+max/2);(2==from||to==total-2)&&(max+=2);var pager_id="pager_id_"+Math.random().toString().replace(/\D/g,"");if(_$out_.push(" "),max>=total-2){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;len>=i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(" "),from>2&&total-2>to){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_1" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=from,len=total;to>i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i+1==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(' <div class="page-box"> '),2>=from){_$out_.push(' <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;i<=Math.max(max,to);i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> ')}if(_$out_.push(" "),to>=total-2){_$out_.push(' <a auto-test="',pager_id,'_1" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=Math.min(from,total-max),len=total;total>i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i==index-1&&_$out_.push(" page-btn-cur"),i==total-1&&_$out_.push(" page-last"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> ')}_$out_.push(" </div> ")}_$out_.push(" ")}}return _$out_.join("")}}});
/*!edu_modules/pagectrl/pagectrl*/
;define("edu_modules/pagectrl/pagectrl",function(t){var i=t("jquery"),n={};n.page=t("/edu_modules/pagectrl/page.tpl_tpl");var e=function(){var t="defClk",e=(navigator.userAgent.match(/\bMSIE\s+(\d+)\b/)||[0,10])[1]<9,a=function(t,i){return t=parseInt(t)||parseInt(i)||0,0>t?0:t},o=function(t,n,e){this.$container=t instanceof i?t:i(t),this.pageFn=n,this.inited=!1,e&&"object"==typeof e&&this.init(e)};return o.prototype.init=function(t){var i=this;return i.inited?void i.reset(t):(t=t||{},i.begin=t.begin||0,i.total=a(void 0!==t.total?t.total:i.total,0),i.max=a(void 0!==t.max?t.max:i.max,5),i.idx=a(void 0!==t.idx?t.idx:i.idx,1),i.idx=a(t.idx-i.begin||i.idx,0),i.idx>i.total&&(i.idx=Math.max(0,i.total-1)),i.delCurPage=function(){return i.reset({total:i.total-1,max:i.max,idx:i.idx}),i.idx},i.$container.html(n.page({total:i.total,max:i.max,idx:i.idx})),void(this.inited||(this.bindEvent(),this.inited=!0)))},o.prototype.reset=function(t){t=t||{};var i=a(t.idx,0),e=a(t.max,5),o=a(t.total,0);i>o&&(i=Math.max(0,o)),(i!=this.idx||o!=this.total)&&(this.$container,this.$container.html(n.page({total:o,max:e,idx:i})),this.total=o,this.idx=i,this.max=e,this.inited||(this.bindEvent(),this.inited=!0))},o.prototype.select=function(i,e){e=e||{};var a=this,o=a.total,r=a.max;a.$container.html(n.page({total:o,max:r,idx:i}));var c=a.idx;a.idx=i,e.silent||a.pageFn(i,c,t)},o.prototype.bindEvent=function(){var n=this;n.$container.on("click",".page-btn",function(){var e=i(this),o=a(e.attr("data-index"));n.select(o),t="defClk"}),e&&n.$container.on("dblclick",".page-next-btn,page-prev-btn",function(){i(this).trigger("click")}),n.$container.on("click",".page-prev-btn",function(){var e=i(this);e.hasClass("page-btn-dis")||(t="preClk",n.$container.find(".page-btn.page-btn-cur").prev().trigger("click"))}),n.$container.on("click",".page-next-btn",function(){var e=i(this);e.hasClass("page-btn-dis")||(t="nextClk",n.$container.find(".page-btn.page-btn-cur").next().trigger("click"))})},o.prototype.getIdx=function(){return this.idx},o.prototype.getTotal=function(){return this.total},o.prototype.destroy=function(){this.$container.unbind("click dblclick"),this.$container.html("")},o}();return e});
/*!/edu_modules/edu-comments/grid.tpl_tpl*/
;define("/edu_modules/edu-comments/grid.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="loading-wrap"></div><div class="section-comment-list grid-data" ></div><div class="grid-page-wrap sort-page"></div>'),_$out_.join("")}}});
/*!/edu_modules/edu-comments/comments-new-tpl.tpl_tpl*/
;define("/edu_modules/edu-comments/comments-new-tpl.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[],comments_info=rows.comments_info||{},good_percentage=comments_info.good_percentage||0,all_num=comments_info.all_num||0,good_num=comments_info.good_num||0,medium_num=comments_info.medium_num||0,bad_num=comments_info.bad_num||0;_$out_.push('<div class="comment-filter"> <div class="comment-statistics"> <span class="statistics-num"> '),0!=good_percentage?_$out_.push(" ",good_percentage,"% "):_$out_.push(' <span style="color: red;">-</span> '),_$out_.push(' </span> 好评度 </div> <div class="f-rc-list filter-comment-rank js-f-rc-list"> <label report-tdw="action=detail_checkcomment_filter&obj1=4&ver1=',rows.cid,'" class="f-radio ',0==rows.filter?"checked":"",'" data-id="0"><i class="icon-radio"></i><span class="f-rc-text">全部评价(',all_num,')</span></label> <label report-tdw="action=detail_checkcomment_filter&obj1=1&ver1=',rows.cid,'" class="f-radio ',1==rows.filter?"checked":"",'" data-id="1"><i class="icon-radio"></i><span class="f-rc-text">好评(',good_num,')</span></label> <label report-tdw="action=detail_checkcomment_filter&obj1=2&ver1=',rows.cid,'" class="f-radio ',2==rows.filter?"checked":"",'" data-id="2"><i class="icon-radio"></i><span class="f-rc-text">中评(',medium_num,')</span></label> <label report-tdw="action=detail_checkcomment_filter&obj1=3&ver1=',rows.cid,'" class="f-radio ',3==rows.filter?"checked":"",'" data-id="3"><i class="icon-radio"></i><span class="f-rc-text">差评(',bad_num,')</span></label> </div></div><div class="comment-list">');for(var i=0;i<rows.items.length;i++){var item=rows.items[i],first_comment_default="";first_comment_default=5==item.first_comment_score?"五星好评！课程非常棒，点赞！":"好评！课程还不错，继续保持！",_$out_.push(' <div class="comment-item"> '),item.high_quality_comment&&_$out_.push(' <div class="item-good"> <span>精</span> </div> '),_$out_.push(' <div class="item-left"> <img class="user-avatar" src="',item.pic_url,'" width="40" height="40" alt="',item.nick_name,'"> <p class="user-name">',item.nick_name,'</p> </div> <div class="item-right"> <div class="star-list"> <i class="icon-font i-star ',1==item.rating?"active":"",'"></i> <i class="icon-font i-star ',2==item.rating?"active":"",'"></i> <i class="icon-font i-star ',3==item.rating?"active":"",'"></i> <i class="icon-font i-star ',4==item.rating?"active":"",'"></i> <i class="icon-font i-star ',5==item.rating?"active":"",'"></i> </div> <div class="comment-bd">',""==item.first_comment?first_comment_default:item.first_comment,'</div> <div class="comment-ft"> '),rows.courseName?(_$out_.push(' <span class="comment-where"> 评价来自 <a target="_blank" href="//ke.qq.com/course/',rows.cid,'" class="nor-link">《',rows.courseName,"》</a></span> "),item.first_comment_study_time&&_$out_.push(' <span class="comment-where">',ext.formatStudyTime(item.first_comment_study_time),"</span> "),_$out_.push(" ")):(_$out_.push(" "),"teacher"!=rows.classify&&item.first_comment_study_time&&_$out_.push(' <span class="comment-where">',ext.formatStudyTime(item.first_comment_study_time),"</span> "),_$out_.push(" ")),_$out_.push(" "),item.course_name&&_$out_.push(' <span class="comment-where"> 评价来自 <a target="_blank" href="//ke.qq.com/course/',item.cid,'" class="nor-link">《',item.course_name,"》</a></span> "),_$out_.push(" "),_$out_.push(' <span class="comment-time">',ext.timeRender(1e3*item.first_comment_time),'</span> <span class="comment-report" data-id="',item.id,'">举报</span> </div> <div class="comment-reply"> '),item.first_reply&&_$out_.push(' <div class="reply-item item--agency"> <div class="reply-bd"> <strong class="reply-tt">机构回复：</strong> ',item.first_reply,'</div> <div class="comment-ft"> <span class="comment-time">',ext.timeRender(1e3*item.first_reply_time),"</span> </div> </div> "),_$out_.push(" "),item.second_comment&&(_$out_.push(' <div class="reply-item"> <div class="reply-bd"><strong class="reply-tt">追加评论：</strong>',item.second_comment,'</div> <div class="comment-ft"> '),item.second_comment_study_time&&_$out_.push(' <span class="comment-where">',ext.formatStudyTime(item.second_comment_study_time),"</span> "),_$out_.push(' <span class="comment-time">',ext.timeRender(1e3*item.second_comment_time),"</span> </div> </div> ")),_$out_.push(" "),item.second_reply&&_$out_.push(' <div class="reply-item item--agency"> <div class="reply-bd"><strong class="reply-tt">机构回复：</strong>',item.second_reply,'</div> <div class="comment-ft"> <span class="comment-time">',ext.timeRender(1e3*item.second_reply_time),"</span> </div> </div> "),_$out_.push(" </div> </div> </div>")}_$out_.push("</div>");var comment_num=all_num;switch(rows.filter){case"0":comment_num=all_num;break;case"1":comment_num=good_num;break;case"2":comment_num=medium_num;break;case"3":comment_num=bad_num}return 1==rows.end_flag&&comment_num>rows.total_num&&_$out_.push(' <div style="text-align: center;color: #999;margin:60px 0px;"><span>仅有打分、无文字的评价未做展示</span></div>'),comment_num==rows.total_num&&0==rows.total_num&&_$out_.push(' <div class="section-msg"> <div class="msg-inner"> <i class="icon-font icon-msg-large i-alert"></i> <div class="msg-text">暂无评论</div> </div></div>'),_$out_.join("")}}});
/*!edu_modules/edu-comments/grid*/
;define("edu_modules/edu-comments/grid",function(t){var e=t("jquery"),a=t("edu_modules/pagectrl/pagectrl"),i={};i.grid=t("/edu_modules/edu-comments/grid.tpl_tpl"),i.grid_data=t("/edu_modules/edu-comments/comments-new-tpl.tpl_tpl");var d=function(t){var d,n,r=this,s={},l=[],o=i,h=i,g=[],u=[],p=function(){if(s=e.extend(s,t),!s.header)throw"header is undefined";l=s.header,s.gridTmpl&&(o=s.gridTmpl),s.dataTmpl&&(h=s.dataTmpl),d=e(s.el),s.data&&s.data.length>0&&(g=s.data),c(l),f(),m()},c=function(t){for(var a=[],i=0,n=d.width(),r=0;r<t.length;r++)if(t[r].width){var s=parseInt((t[r].width+"").replace("px",""));t[r].width=s+"px",n-=s}else i++,a.push(r);var l=parseInt(n/i);e.each(a,function(e,a){t[a].width=l-1+"px"})},f=function(){var t="";t="function"==typeof o?o({tableId:s.tableId||"",tableClass:s.tableClass||"",headers:s.header}):o.grid({tableId:s.tableId||"",tableClass:s.tableClass||"",headers:s.header}),d.html(t),s.pageCtrl&&r.resetPageCtrl(s.pageCtrl),g.length>0&&r.render(g)},m=function(){d.find(".grid-data").delegate("tr","mouseenter mouseleave",function(t){"mouseenter"===t.type?e(this).addClass("grid-row-hover"):e(this).removeClass("grid-row-hover")})};this.pageCtrl=null,this.render=function(t,a){for(var i="",n=[],r=0;r<l.length;r++)n[r]=l[r].width;i="function"==typeof h?h({rows:t,colWidth:n,ext:a}):h.grid_data({rows:t,colWidth:n,ext:a});var s=1;i=i.replace(/(^\s*)|(\s*$)/g,"");var o=e(i).each(function(){var t=1;e(this).addClass("grid-row-"+s),e(this).find("td").each(function(){(e(this).attr("style")+"").indexOf("width")<0&&e(this).css("width",n[t-1]),e(this).addClass("grid-col-"+t),t++}),s++});d.find(".section-comment-list").html(o)},this.onPageChange=function(t){u.push(t)},this.resetPageCtrl=function(t){this.pageCtrl?this.pageCtrl.reset(t):(n=e(t.el||d.find(".sort-page")),this.pageCtrl=new a(n,function(){var t=arguments;e.each(u,function(e,a){a.apply(r,t)})},{max:t.max,total:t.total,begin:t.begin||0,idx:t.idx||1}))},this.delegate=function(t,e,a){d.delegate(t,e,function(t){a(r,t)})},this.getRowCount=function(){return d.find(".grid-data-wrap table tr").length},this.jumpPage=function(t){this.pageCtrl&&n.find(".page-btn[data-index="+t+"]").trigger("click")},this.toggleLoad=function(){var t=d.find(".loading-wrap");t.is(":hidden")?t.show().spin({top:"100px"}):t.hide()},this.showLoad=function(){var t=d.find(".loading-wrap");t.show().spin({top:"100px"})},this.hideLoad=function(){var t=d.find(".loading-wrap");t.hide()},this.destroy=function(){d.html(),d.undelegate(),d.find(".grid-data").undelegate(),this.pageCtrl&&this.pageCtrl.destroy()},p(),this.$elem=d};return d});
/*!edu_modules/comment-star/comment-star*/
;define("edu_modules/comment-star/comment-star",function(t,a,s){var n=(t("jquery"),function(t){function a(){switch(n.on("click","i",function(){o.setStar(parseInt($(this).data("count"))),r.trigger(u+":click"),h=!0}),d){case"dynamic":n.on("mouseleave",function(){h&&i&&o.setStar(i)}),n.on("mouseenter","i",function(){var t=$(this),a=parseInt(t.data("count"));t.nextAll("i").attr("class","no-star"),t.prevAll("i").attr("class","star"),t.attr("class","star"),o.setStarLabel(c[a-1]||"")});break;default:n.on("mouseenter mouseleave","i",function(t){h||l||("mouseenter"==t.type?($(this).prevAll().attr("class","star"),$(this).attr("class","star")):($(this).prevAll().attr("class","no-star"),$(this).attr("class","no-star")))})}}function s(t){var a="";return a=$.isArray(c)?t?c[t-1]:"":c,f?'<span class="star-label">'+a+"</span>":""}var n,r,e=5,i=0,o=this,c=["很不满意","不满意","一般","满意","很满意"],l="",u="__commentStar__",f=!0,h=!1,d=null,v=function(){n=r=$(t.el),t.maxCount&&(e=t.maxCount),t.star&&(i=t.star,h=!0),t.starLabel&&(c=t.starLabel),t.showStarLabel===!1&&(f=!1),t.interactType&&(d=t.interactType),t.clickable!==!1?a():l="no-event",n.addClass("star-list"),o.setStar(i)};this.setStar=function(t){i=t,p()},this.getStar=function(){return i},this.setStarLabel=function(t){n.find(".star-label").text(t)};var m=function(t){var a=t+"";return a.indexOf(".")<0?0:parseFloat("0"+a.substring(a.indexOf(".")))},p=function(){for(var t="",a=0,r=m(i),o=parseInt(i),c=0;o>c;c++)a++,t+='<i class="'+l+'" data-count="'+a+'"></i>';r>.25&&.75>r?(o+=1,t+='<i class="'+l+' half-star" data-count="'+a+'"></i>'):r>.75&&(o+=1,t+='<i class="'+l+'" data-count="'+a+'"></i>');var u=o-e;if(0>u)for(var f=0;f<Math.abs(u);f++)a++,t+='<i class="no-star '+l+'" data-count="'+a+'"></i>';t+=s(o),n.html(t),l||b()},b=function(){var t=0;n.find("i").each(function(){var a=c;$.isArray(c)&&(a=c[t]),$(this).attr("title",a),t++})};return this.on=function(t,a){r.on(u+":"+t,a())},this.off=function(t,a){r.off(u+":"+t,a)},v(),this});s.exports=n});
/*!/edu_modules/edu-tips/tips.tpl_tpl*/
;define("/edu_modules/edu-tips/tips.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="tmp-tip"> '),""!==type&&_$out_.push('<i class="tmp-tip-icon icon-font ',opt[type],'"></i>'),_$out_.push('<span class="tmp-tip-cnt">',tips,"</span></div>"),_$out_.join("")}}});
/*!@tencent/im-spinner/spinner*/
;define("@tencent/im-spinner/spinner",function(t,e,i){!function(t,o){"object"==typeof e?i.exports=o():"function"==typeof define&&define.amd?define(o):t.Spinner=o()}(this,function(){"use strict";function t(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function e(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function i(t,e,i,o){var n=["opacity",e,~~(100*t),i,o].join("-"),r=.01+i/o*100,s=Math.max(1-(1-t)/e*(100-r),t),a=p.substring(0,p.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return d[n]||(u.insertRule("@"+l+"keyframes "+n+"{0%{opacity:"+s+"}"+r+"%{opacity:"+t+"}"+(r+.01)+"%{opacity:1}"+(r+e)%100+"%{opacity:"+t+"}100%{opacity:"+s+"}}",u.cssRules.length),d[n]=1),n}function o(t,e){var i,o,n=t.style;for(e=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<c.length;o++)if(i=c[o]+e,void 0!==n[i])return i;return void 0!==n[e]?e:void 0}function n(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function r(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)void 0===t[o]&&(t[o]=i[o])}return t}function s(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function a(t,e){return"string"==typeof t?t:t[e%t.length]}function l(t){return"undefined"==typeof this?new l(t):void(this.opts=r(t||{},l.defaults,h))}function f(){function i(e,i){return t("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',i)}u.addRule(".spin-vml","behavior:url(#default#VML)"),l.prototype.lines=function(t,o){function r(){return n(i("group",{coordsize:p+" "+p,coordorigin:-f+" "+-f}),{width:p,height:p})}function s(t,s,l){e(d,e(n(r(),{rotation:360/o.lines*t+"deg",left:~~s}),e(n(i("roundrect",{arcsize:o.corners}),{width:f,height:o.width,left:o.radius,top:-o.width>>1,filter:l}),i("fill",{color:a(o.color,t),opacity:o.opacity}),i("stroke",{opacity:0}))))}var l,f=o.length+o.width,p=2*f,c=2*-(o.width+o.length)+"px",d=n(r(),{position:"absolute",top:c,left:c});if(o.shadow)for(l=1;l<=o.lines;l++)s(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;l<=o.lines;l++)s(l);return e(t,d)},l.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0,n&&e+o<n.childNodes.length&&(n=n.childNodes[e+o],n=n&&n.firstChild,n=n&&n.firstChild,n&&(n.opacity=i))}}var p,c=["webkit","Moz","ms","O"],d={},u=function(){var i=t("style",{type:"text/css"});return e(document.getElementsByTagName("head")[0],i),i.sheet||i.styleSheet}(),h={lines:12,length:6,width:4,radius:10,rotate:0,corners:1,color:"#929598",direction:1,speed:1,trail:60,opacity:.25,fps:20,zIndex:999,className:"spinner",top:"auto",left:"auto",position:"relative"};l.defaults={},r(l.prototype,{spin:function(e){this.stop();var i,o,r=this,a=r.opts,l=r.el=n(t(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),f=a.radius+a.length+a.width;if(e&&(e.insertBefore(l,e.firstChild||null),o=s(e),i=s(l),n(l,{left:("auto"==a.left?o.x-i.x+(e.offsetWidth>>1):parseInt(a.left,10)+f)+"px",top:("auto"==a.top?o.y-i.y+(e.offsetHeight>>1):parseInt(a.top,10)+f)+"px"})),l.setAttribute("role","progressbar"),r.lines(l,r.opts),!p){var c,d=0,u=(a.lines-1)*(1-a.direction)/2,h=a.fps,m=h/a.speed,y=(1-a.opacity)/(m*a.trail/100),g=m/a.lines;!function v(){d++;for(var t=0;t<a.lines;t++)c=Math.max(1-(d+(a.lines-t)*g)%m*y,a.opacity),r.opacity(l,t*a.direction+u,c,a);r.timeout=r.el&&setTimeout(v,~~(1e3/h))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(o,r){function s(e,i){return n(t(),{position:"absolute",width:r.length+r.width+"px",height:r.width+"px",background:e,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/r.lines*f+r.rotate)+"deg) translate("+r.radius+"px,0)",borderRadius:(r.corners*r.width>>1)+"px"})}for(var l,f=0,c=(r.lines-1)*(1-r.direction)/2;f<r.lines;f++)l=n(t(),{position:"absolute",top:1+~(r.width/2)+"px",transform:r.hwaccel?"translate3d(0,0,0)":"",opacity:r.opacity,animation:p&&i(r.opacity,r.trail,c+f*r.direction,r.lines)+" "+1/r.speed+"s linear infinite"}),r.shadow&&e(l,n(s("#000","0 0 4px #000"),{top:"2px"})),e(o,e(l,s(a(r.color,f),"0 0 1px rgba(0,0,0,.1)")));return o},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}});var m=n(t("group"),{behavior:"url(#default#VML)"});return!o(m,"transform")&&m.adj?f():p=o(m,"animation"),l})});
/*!@tencent/im-jquery.spin/jquery.spin*/
;define("@tencent/im-jquery.spin/jquery.spin",function(n){var e=n("jquery"),i=n("@tencent/im-spinner/spinner");e.fn.spin=function(n,s){return this.each(function(){var t=e(this),r=t.data();r.spinner&&(r.spinner.stop(),delete r.spinner),n!==!1&&(n=e.extend({color:s||t.css("color")},e.fn.spin.presets[n]||n),r.spinner=new i(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}});
/*!edu_modules/edu-tips/edu-tips*/
;define("edu_modules/edu-tips/edu-tips",function(t,e){var n=t("jquery"),i=t("/edu_modules/edu-tips/tips.tpl_tpl");t("@tencent/im-jquery.spin/jquery.spin");var s={type:"",tips:"",timeout:1500,timeFade:500,"static":!1},o={info:"i-info",success:"i-success",alert:"i-alert",help:"i-question",loading:"loading"},p=function(t){this._opts=n.extend({},s,t),this._$cnt=n(i(this._opts,o)),this.render()};p.prototype.render=function(){var t,e=this;this._$cnt.appendTo(n(document.body)),this._$cnt.css({marginTop:"-"+parseInt(this._$cnt.outerHeight()/2)+"px",marginLeft:"-"+parseInt(this._$cnt.outerWidth()/2)+"px"}).show(),t=this._$cnt.find(".icon-font"),"loading"===this._opts.type&&t.spin("small"),this._opts.static||(this.timer=setTimeout(function(){e.fadeOut(t)},e._opts.timeout))},p.prototype.fadeOut=function(t){var e=this;this._$cnt.fadeOut(this._opts.timeFade,function(){t&&t.spin(!1),e.remove()})},p.prototype.remove=function(){this._$cnt.remove(),clearTimeout(this.timer),this._opts.onClose&&this._opts.onClose()},e.tips=function(t,e){return new p(n.extend({tips:t},e))},e.info=function(t,e){return new p(n.extend({tips:t,type:"info"},e))},e.success=function(t,e){return new p(n.extend({tips:t,type:"success"},e))},e.alert=function(t,e){return new p(n.extend({tips:t,type:"alert"},e))},e.help=function(t,e){return new p(n.extend({tips:t,type:"help"},e))},e.loading=function(t,e){return new p(n.extend({tips:t,type:"loading"},e))}});
/*!edu_modules/edu-comments/modules/reportBox/db.reportBox*/
;define("edu_modules/edu-comments/modules/reportBox/db.reportBox",function(e){var o=e("edu_modules/edu-db/edu-db");return o.extend({submitReport:o.httpMethod({url:"/cgi-bin/comment_new/report_course_comment",type:"POST"})}),o});
/*!/edu_modules/edu-comments/modules/reportBox/reportBox.tpl_tpl*/
;define("/edu_modules/edu-comments/modules/reportBox/reportBox.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div tabindex="-1" class="overlay js-modal-report-bg"></div><div class="modal--report-box js-modal-report"> <div class="modal--report-box-mask"></div> <div class="modal--report-box-hd"></div> <div class="modal--report-box-bd"> <div class="modal--report-box-title">选择举报理由<i class="icon-font i-close-s js-btn-close"></i></div> <div class="modal--report-box-filter"> <ul class="radios js-report-radio" data-value="0"> <li class="radio radio-check" data-value="0"> <i></i><label><span href="javascript:;">广告灌水</span></label> </li> <li class="radio" data-value="1"> <i></i><label><span href="javascript:;">涉黄涉暴</span></label> </li> <li class="radio" data-value="2"> <i></i><label><span href="javascript:;">反动言论</span></label> </li> <li class="radio" data-value="3"> <i></i><label><span href="javascript:;">其他</span></label> </li> </ul> </div> <div class="modal--report-box-content"> <textarea class="js-report-textarea"></textarea> <p class="text-remain"><span class="remain-num js-remain-num">0</span>/200</p> </div> <button class="modal--report-box-submit js-submit-report">提交举报</button> </div></div>'),_$out_.join("")}}});
/*!edu_modules/edu-comments/modules/reportBox/reportBox*/
;define("edu_modules/edu-comments/modules/reportBox/reportBox",function(e){function r(){var e=l(".js-modal-report");e.css({marginTop:"-"+parseInt(e.outerHeight()/2)+"px",marginLeft:"-"+parseInt(e.outerWidth()/2)+"px"})}function o(){var e=f();l("body").append(e),r()}function t(){var e=l(".js-report-textarea").val();return e.length}function a(){var e=!0,r=t(),o=l(".js-report-radio").data("value");return r>v?(l(".js-remain-num").addClass("red"),e=!1):l(".js-remain-num").removeClass("red"),3===o&&0===r&&(e=!1),l(".js-submit-report")[e?"removeClass":"addClass"]("disabled"),e}function s(){if(!l(this).hasClass("disabled")){var e=l(".js-report-radio").data("value"),r=l(".js-report-textarea").val()+"("+h[e]+")";m.submitReport({param:{id:i.id,cid:i.cid,report_reason:r},succ:function(){c&&c(!0),d(),p.success("举报成功！")},err:function(e){var r=e.retcode,o=b[r]||"系统繁忙，请稍后再试("+e.retcode+")";return d(),p.alert(o),!0}})}}function n(){x=!0;var e="radio-check";l(document).on("click",".js-submit-report",s).on("click",".js-btn-close",d).on("click",".js-report-radio .radio",function(){var r=l(this),o=r.data("value");r.hasClass(e)||(r.addClass(e).siblings().removeClass(e),r.parent().data("value",o),a())}).on("keydown paste cut",".js-report-textarea",function(){setTimeout(function(){if(!j){var e=t(),r=l(".js-remain-num");r.text(e),a()}},0)}).on("compositionstart",".js-report-textarea",function(){j=!0}).on("compositionend",".js-report-textarea",function(){j=!1})}function u(e,r){i=e,c=r||function(){},o(),!x&&n()}function d(){l(".js-modal-report-bg").remove(),l(".js-modal-report").remove(),i=null,c=null}var i,c,l=e("jquery"),p=(e("edu_modules/edu-report/edu-report"),e("edu_modules/edu-tips/edu-tips")),m=e("edu_modules/edu-comments/modules/reportBox/db.reportBox"),f=e("/edu_modules/edu-comments/modules/reportBox/reportBox.tpl_tpl"),v=200,j=!1,x=!1,b={10014:"您已举报过本条评价"},h={0:"广告灌水",1:"涉黄涉暴",2:"反动言论",3:"其他"};return{showModal:u,closeModal:d}});
/*!edu_modules/edu-comments/comments*/
;define("edu_modules/edu-comments/comments",function(e){var t=e("jquery"),n=e("edu_modules/edu-db/edu-db"),o=e("edu_modules/edu-comments/grid"),i=e("edu_modules/edu-login/edu-login"),s=(e("edu_modules/comment-star/comment-star"),{});s.comments=e("/edu_modules/edu-comments/comments-new-tpl.tpl_tpl"),s.grid=e("/edu_modules/edu-comments/grid.tpl_tpl");var c,r,m,a,u,d,l,f=e("edu_modules/edu-comments/modules/reportBox/reportBox"),_=0,g={filter:0,classify:"",comments_info:{}};n.extend({get_course_comments:n.httpMethod({url:"/cgi-bin/comment_new/course_comment_list",noNeedLogin:!0}),get_teacher_comments:n.httpMethod({url:"/cgi-bin/comment_new/teacher_comment_list",noNeedLogin:!0}),get_course_comment_stat:n.httpMethod({url:"/cgi-bin/comment_new/course_comment_stat",noNeedLogin:!0}),get_teacher_comment_stat:n.httpMethod({url:"/cgi-bin/comment_new/teacher_comment_stat",noNeedLogin:!0})});var h=function(e){a=e.courseId,d=e.courseName,u=e.tid,g.classify=e.classify?e.classify:"course",c=t("#js-comments"),m=t("#js-omments-total"),l=t('.l-side-nav li[data-hook="wraper-comment"] p'),M(),p(),_=1,L(0,!0)},p=function(){r||(r=new o({el:"#js-comments-list",tableId:"comments-list-table",dataTmpl:s.comments,gridTmpl:s.grid,header:[]}),r.onPageChange(function(e){t(".js-tab-nav").offset()&&t(window).scrollTop(t(".js-tab-nav").offset().top),L(e-1,!1)}))},v=function(){t(".js-f-rc-list").on("click","label",function(){t(this).addClass("checked").siblings().removeClass("checked"),g.filter=t(this).attr("data-id"),L(0,!0)}),t(".item-right").on("click",".comment-report",function(){var e={id:t(this).data("id"),cid:a};i.isLogin()?f.showModal(e):i.show({succ:function(){f.showModal(e)}})})},w=function(e){var n=new Date,o=new Date(n.getFullYear(),n.getMonth(),n.getDate());return e-o.getTime()>0?t.render.time.formatDate("hh:mm",e):t.render.time.formatDate("YYYY-MM-DD",e)},y=function(e){if(!e)return"";var t=Math.floor(e/3600),n=Math.ceil((e-3600*t)/60),o="已上课";return t&&(o+=t+"小时"),n&&(o+=n+"分钟"),o+="时评价"},b=function(e,n){e.items||(e.items=[]),d&&(e.courseName=d),e.cid=a,r.render(e,{timeRender:w,formatStudyTime:y}),n&&r.resetPageCtrl({total:e.total_page,max:3,idx:1}),setTimeout(function(){t("#js-comments-list").lazyload()},0)},M=function(){"course"==g.classify?n.get_course_comment_stat({param:{cid:a},succ:function(e){var t=e.result;g.comments_info=t},err:function(){return!0}}):"teacher"==g.classify&&n.get_teacher_comment_stat({param:{tid:u},succ:function(e){var t=e.result;g.comments_info=t},err:function(){return!0}})},L=function(e,t){function o(n){_=2,setTimeout(function(){j(),r.hideLoad(),n.result.curPage=e,n.result.filter=g.filter,n.result.comments_info=g.comments_info,n.result.classify=g.classify,b(n.result,t),v()},150),l.text("学员评论("+n.result.total+")")}return r.showLoad(),0===a?void o({result:{total:0,comments:[]}}):void("course"==g.classify?n.get_course_comments({param:{cid:a,count:10,page:e,filter_rating:g.filter},succ:function(e){o(e)},err:function(){return _=2,j(),r.hideLoad(),b({},t),!0}}):"teacher"==g.classify&&n.get_teacher_comments({param:{tid:u,count:10,page:e,filter_rating:g.filter},succ:function(e){o(e)},err:function(){return _=2,j(),r.hideLoad(),b({},t),!0}}))},j=function(){c.css("visibility","visible"),c.parent().find(".spinner").remove()},T=function(){return 2!==_?void c.parent().spin():void L(0,!0)};return{init:h,show:T,formatStudyTime:y}});
/*!/edu_modules/jquery.msg/msg.tpl_tpl*/
;define("/edu_modules/jquery.msg/msg.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="jq-message-wrapper"> <div class="jq-message jq-message--',align,'"> <i class="icon-font i-',type,'"></i><span class="js-msg-txt">',msg,"</span> </div></div>"),_$out_.join("")}}});
/*!edu_modules/jquery.msg/jquery.msg*/
;define("edu_modules/jquery.msg/jquery.msg",function(t){function i(t,i){return this.config(t),this.$el=i,this.init(),this}var n=t("jquery"),s=t("/edu_modules/jquery.msg/msg.tpl_tpl"),e={align:"top",type:"success",msg:"",time:1500,duration:100,onMsgShow:function(){},onMsgHide:function(){}};n.fn.msg=function(t){var s;return s=this.jquery&&this.length?this:n(document.body),"string"==typeof t&&(t={msg:t}),t.msg?s.each(function(){var s=n(this),e=s.data("msg");e||(e=new i(t,s),s.data("msg",e)),e.config(t,!0),e.render(t.msg)}):!1},n.extend(i.prototype,{init:function(){this.fill()},config:function(t,i){n.extend(this,e,t),i&&this.fill()},fill:function(){this.$msg&&this.$msg.remove(),this.$msg=n(s(this)).hide().appendTo(this.$el)},render:function(t){var i=this,n=i.$msg;t=t||this.msg,n.find(".js-msg-txt").text(t),n.fadeIn(this.duration,function(){i.onMsgShow(),setTimeout(function(){n.fadeOut(i.duration,i.onMsgHide)},i.time)})}})});
/*!/edu_modules/edu-comment-box/templates/main.tpl_tpl*/
;define("/edu_modules/edu-comment-box/templates/main.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="comment-box-wrapper"> <section class="comment-box ',className,'"> <h1 class="comment-box-name">',opTitle,"<strong>",name,'</strong></h1> <a class="comment-box-close-btn js-close-btn" href="javascript:;"> <i class="icon-font i-close"></i> </a> <p class="comment-box-tt">',title,'</p> <form class="clearfix"> <div class="comment-box-field-star"> <span class="field-star js-field-star"></span> </div> <div class="comment-box-field-txt"> <div class="field-txt-wrapper"> <textarea class="field-txt js-field-txt" autocomplete="off" placeholder="',placeholder,'" >',value,'</textarea> <p class="txt-count-wrapper"> <span class="txt-count js-txt-count">',value.length,"</span>/",max,' </p> </div> <p class="comment-box-desc">',description,'</p> <button type="button" class="comment-box-submit-btn js-submit-btn disabled"> ',btnTxt,' </button> </div> </form> </section> <div class="comment-box-mask"></div></div>'),_$out_.join("")}}});
/*!edu_modules/edu-comment-box/index*/
;define("edu_modules/edu-comment-box/index",function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=t("jquery"),a=i(s),r=t("edu_modules/edu-db/edu-db"),l=i(r),d=t("edu_modules/jquery.msg/jquery.msg"),c=(i(d),t("edu_modules/comment-star/comment-star")),m=i(c),f=t("/edu_modules/edu-comment-box/templates/main.tpl_tpl"),h=i(f),b="课程评价",v="您觉得课程怎么样？",p="不可少于15字。评价多于100字将有机会获得200积分奖励哦~",g="请尽可能详尽描述您的学习经历，例如学习成果、老师讲课风格、课程内容等",y="网络繁忙，请稍后重试！",x={100001:"输入参数错误",501:"内容不合法，请重新提交",106442:"您的评价内容中包含敏感词，请删除后再提交哦"};l.default.extend({submitComment:l.default.httpMethod({url:"/cgi-bin/comment_new/submit_course_comment",type:"POST"})});var S=function(){function t(e){o(this,t),this.options=e=a.default.extend({},t.defaultOpts,e);var n=e,i=n.container;this.$container=a.default(i),this.init()}return u(t,[{key:"init",value:function(){this.render(),this.bindEvent(),this.options.onLoad()}},{key:"render",value:function(){var t=this.$container,e=this.$box=a.default(h.default(this.options));t.append(e),this.$fieldTxt=e.find(".js-field-txt"),this.$fieldStar=e.find(".js-field-star"),this.$btnSubmit=e.find(".js-submit-btn"),this.$count=e.find(".js-txt-count"),this.fieldStar=m.default(a.default.extend({},this.options,{el:this.$fieldStar}))}},{key:"count",value:function(){var t=this.$count,e=this.options,n=e.min,i=e.max,o=this.getComment(),u=o.length;t.text(u),n>u||u>i?(this.toggleSubmit(!1),t.addClass("invalid")):(this.toggleSubmit(!0),t.removeClass("invalid"))}},{key:"toggleSubmit",value:function(t){var e=this.$btnSubmit;t?e.removeClass("disabled"):e.addClass("disabled")}},{key:"bindEvent",value:function(){var t=this,e=this.$box;e.on("click",".js-close-btn",function(){t.hide()}).on("click",".js-submit-btn",function(){t.submit()}).on("keyup input",".js-field-txt",function(){t.count()})}},{key:"getComment",value:function(){var t=this.$fieldTxt;return t.val().replace(/^[\r\n]+|[\r\n]+$/g,"").replace(/\s+/g," ").replace(/^\s$/g,"")}},{key:"getParams",value:function(){var t=this.fieldStar,e=this.options,n=e.id,i=e.isFirst,o={rating:t.getStar(),comment:this.getComment()};return a.default.extend(o,{id:n,cid:n,share:0,comment_type:i?0:1})}},{key:"submit",value:function(){var t=this,e=this.options,n=e.onSubmit,i=e.onSubmitSucc,o=e.onSubmitFail,u=this.getParams(),s=n(u,this);s!==!1&&l.default.submitComment({param:u,succ:function(e){t.remove(),a.default.fn.msg({msg:"提交成功",align:"center"}),i(e)},err:function(t){return o(t)!==!1&&a.default.fn.msg({type:"alert",msg:x[t.retcode]||y,align:"center"}),!0}})}},{key:"show",value:function(){this.$box.show(),this.options.onShow()}},{key:"hide",value:function(){this.$box.hide(),this.options.onClose()}},{key:"remove",value:function(){this.$box.remove(),this.options.onRemove()}}]),t}();S.defaultOpts={id:0,name:"",isPkg:!1,isFirst:!0,star:5,interactType:"dynamic",value:"",min:15,max:1e3,opTitle:b,title:v,description:p,btnTxt:"提交评价",className:"",container:a.default(document.body),onLoad:function(){},onShow:function(){},onClose:function(){},onRemove:function(){},onStar:function(){},onSubmit:function(){},onSubmitSucc:function(){},onSubmitFail:function(){},placeholder:g},n.exports=S});
/*!edu_modules/modal/modal*/
;define("edu_modules/modal/modal",function(require,exports,module){var $=require("jquery"),Observer=require("@tencent/im-observer/observer"),isDebug=!0,modalIndex=0;$.template=function(tmpl,data){var evalExp=function(exp,scope){return function(){var __res;try{with(scope)__res=eval(exp)}catch(e){}return"undefined"==typeof __res?"":__res}.call(scope)},position=0,stacks=[!0],regexp=/\{if ([^\}]+)\}|\{\/if\}|\{else\}|\{else if ([^\}]+)\}/gi,res="";return tmpl.replace(regexp,function(t,e,s,n){var o=stacks.pop();return o&&(res+=tmpl.substr(position,n-position)),position=n+t.length,e?(stacks.push(o),stacks.push(o&&evalExp(e,data)?!0:!1),stacks.push(stacks[stacks.length-1])):s?stacks.push(stacks[stacks.length-1]?!1:evalExp(s,data)?!0:!1):/\{else\}/i.test(t)?stacks.push(stacks[stacks.length-1]?!1:!0):stacks.pop(),""}),stacks.pop()&&(res+=tmpl.substr(position)),tmpl=res,tmpl=tmpl.replace(/\{\$([^\{\}]+)\}/g,function(t,e){return evalExp(e,data)})};var templateBg='<div tabindex="-1" class="overlay js-modal-bg"></div>',templateModal='<div class="js-modal modal  {$className} {if icon}modal--msg{/if} {if scroll}modal--scroll{/if}" style="{if width}width:{$width}px;{/if}{if style}{$style}{/if}" >';templateModal+="{if !nohead}",templateModal+='  <div class="modal-hd"><h3 class="hd-tt js-modal-title">{$title}</h3><a href="javascript:void(0);" class="js-modal-close btn-close" {if !isClose}style="display:none;"{/if} title="关闭">×</a></div>',templateModal+="{/if}",templateModal+="{if !body}",templateModal+='  <div class="modal-bd {if padding}modal-bd--padding{/if}" style="{if height}height:{$height}px;{/if}">',templateModal+="  {if icon}",templateModal+='      <div class="bd-msg"><i class="icon-font icon-msg-large i-{$icon}"></i>',templateModal+='      <p class="msg-text">{$content}</p></div>',templateModal+="  {else}",templateModal+="      {$content}",templateModal+="  {/if}",templateModal+="  </div>",templateModal+='  <div class="modal-ft">',templateModal+='  <a href="javascript:void(0);" title="{$txtYes}" class="js-modal-yes btn-default {if !enableYes} btn-disabled{/if}" {if !isYes}style="display:none;"{/if}>{$txtYes}</a>',templateModal+="  ",templateModal+='  <a href="javascript:void(0);" title="{$txtNo}" class="js-modal-no btn-weak {if !enableNo} btn-disabled{/if}" {if !isNo}style="display:none;"{/if}>{$txtNo}</a>',templateModal+="  </div>",templateModal+="{else}",templateModal+="  {$body}",templateModal+="{/if}",templateModal+="",templateModal+="</div>";var addDrag=function(t,e,s){var n=!1,o=0,a=0,i=$(t),l=$(e),c=$.extend({opacity:.6,duration:.3},s),d=function(t){n&&l.css({left:t.pageX-o+"px",top:t.pageY-a+"px"})},r=function(){n=!1,l.css({transition:"none",opacity:"1"}),$(document.body).off("mousemove",d)};i.mousedown(function(t){n=!0,o=t.pageX-parseInt(l.css("left")),a=t.pageY-parseInt(l.css("top")),l.css({transition:"opacity "+c.duration+"s ease-in",opacity:c.opacity}),$(document.body).mousemove(d).one("mouseup",r)})};$.fn.drag=function(t,e){t||(t=this),addDrag(this,t,e)};var Modal=function(t){this._index=modalIndex++;var e={title:"提示",className:"",style:"",content:"",txtYes:"确定",txtNo:"取消",icon:"",nohead:!1,body:"",hotkey:!0,isYes:!0,isNo:!0,isClose:!0,enableYes:!0,enableNo:!0,enableClose:!0,buttonsAlign:"right",enableDrag:!0,enableBgClose:!1,width:500,height:"",padding:!0,scroll:!1,yes:function(){},no:function(){},onClose:function(){Observer.trigger("dialog.close")},onOpen:function(){Observer.trigger("dialog.show")}};this.opts=$.extend(e,t),this._buttonState={};var s={submit:"txtYes",isDisabled:"enableYes",globalClass:"className",onAccept:"yes",onCancel:"no"};$.each(s,function(t,s){"undefined"!=typeof e[t]&&(e[s]=e[t])}),this.onAccept=this.yes,this.onCancel=this.no,this.async(this.opts.onOpen,this.$,function(){this._update().update()})};Modal.prototype={$:null,$bg:null,$btnYes:null,$btnNo:null,_index:0,_buttons:["enableYes","enableNo","enableClose"],_buttonState:null,opts:null,hotkeyCallback:function(t){if(this.opts.enableBgClose&&t.target===this.$bg[0])return this.closeAsync(this.opts.no,t);if(this.opts.hotkey)return 27===t.which&&this.opts.enableNo?this.closeAsync(this.opts.no,t):13===t.which&&this.opts.enableYes?this.closeAsync(this.opts.yes,t):void 0},async:function(t,e,s){var n=this;if(t.length<2){var o=t.call(n,e);s.call(n,"undefined"==typeof o||o?!0:!1)}else t.call(n,e,function(t){s.call(n,"undefined"==typeof t||t?!0:!1)})},closeAsync:function(t,e){var s=this;this.saveButtonsState(),this.disableButtons(),this.async(t,e,function(t){return t?void(s.opts.enableClose&&s.async(s.opts.onClose,e,function(t){return t?void s.remove():s.recoverButtons()})):s.recoverButtons()})},title:function(t){return this.$.find(".js-modal-title").html(t),this},content:function(t){var e=this.$.find(".msg-text");return 0===e.length&&(e=this.$.find(".modal-bd")),e.html(t),this},remove:function(){this.$.remove(),removeHotkeyCallback(this._hotkeyCallback);var t=$(".js-modal");return 0===t.length?this.$bg.remove():void this.$bg.after(t.eq(t.length-1))},update:function(){return this.$.css({marginTop:"-"+parseInt(this.$.height()/2)+"px",marginLeft:"-"+parseInt(this.$.width()/2)+"px"}),this.$.show(),this},recoverButtons:function(){var t=this;return $.each(t._buttons,function(e,s){t[s](t._buttonState[s])}),this},saveButtonsState:function(){var t=this;return $.each(t._buttons,function(e,s){t._buttonState[s]=t.opts[s]}),this},disableButtons:function(){var t=this;return $.each(["enableYes","enableNo"],function(e,s){t[s](!1)}),this},_update:function(){var t=this;return this.$?this.$.show():(this.$bg=$(".js-modal-bg"),0===this.$bg.length&&(this.$bg=$(templateBg).appendTo($(document.body))),this.$=$($.template(templateModal,this.opts)),this.$.appendTo($(document.body)).before(this.$bg),this._hotkeyCallback=function(){t.hotkeyCallback.apply(t,arguments)},addHotkeyCallback(this._hotkeyCallback),this.opts.enableDrag&&this.$.find(".modal-hd").drag(this.$),this.bindEvents(),this)},bindBtnYesEvent:function(){var t=this;return this.$btnYes=this.$.find(".js-modal-yes").click(function(e){$(this).hasClass("btn-disabled")||t.closeAsync(t.opts.yes,e)}),this},bindBtnNoEvent:function(){var t=this;return this.$btnNo=this.$.find(".js-modal-no").click(function(e){$(this).hasClass("btn-disabled")||(e=e||{},e.btnName="cancel",t.closeAsync(t.opts.no,e))}),this},bindBtnCloseEvent:function(){var t=this;return this.$.find(".js-modal-close").click(function(e){t.$btnNo.hasClass("btn-disabled")||(e=e||{},e.btnName="close",t.closeAsync(t.opts.no,e))}),this},bindEvents:function(){return this.bindBtnYesEvent().bindBtnCloseEvent().bindBtnNoEvent()}},$.each(["enableYes","enableNo","enableClose"],function(t,e){Modal.prototype[e]=function(t){this.opts[e]=t;var s=t?"removeClass":"addClass";return"enableYes"===e&&this.$btnYes[s]("btn-disabled"),"enableNo"===e&&this.$btnNo[s]("btn-disabled"),this}}),$.each(["yes","no","onClose","onOpen"],function(t,e){Modal.prototype[e]=function(t){return this.opts[e]=t,this}}),$.each(["width","height"],function(t,e){Modal.prototype[e]=function(t){return"undefined"==typeof t?this.opts[e]:(this.opts[e]=t,this.$[e](t),this.update())}}),$(document.body).keydown(function(t){triggerHotkey(t)}).delegate(".js-modal-bg","click",function(t){triggerHotkey(t)});var hotKeyCallbacks=[],addHotkeyCallback=function(t){hotKeyCallbacks.push(t)},removeHotkeyCallback=function(t){$.each(hotKeyCallbacks,function(e,s){return s===t?(hotKeyCallbacks.splice(e,1),!1):void 0})},triggerHotkey=function(t){hotKeyCallbacks.length<1||hotKeyCallbacks[hotKeyCallbacks.length-1](t)},modalConfigs={alert:{title:"警告",content:"警告信息！",icon:"alert",isNo:!1,buttonsAlign:"right",enableBgClose:!1},retry:{txtYes:"重试",content:"是否重试？",icon:"alert",enableBgClose:!1},confirm:{title:"确认操作",icon:"alert",txtYes:"确认",content:"请确认是否操作？",enableBgClose:!1},success:{title:"成功提示",icon:"success",content:"操作成功！",isNo:!1},error:{title:"错误提示",icon:"alert",isNo:!1},help:{title:"帮助信息",icon:"info",content:"这是一条帮助信息。",isNo:!1}},modal=function(t){return new Modal(t)};$.fn.modal=function(t,e,s){var n=arguments.length;return this.click(function(){return 1===n?"object"==typeof t?(s=t,e="",t=t.type||""):(e=t,t="alert"):2===n&&(s=e||{},e=t,t=s.type||"alert"),t?modal[t](e,s):modal(s)})},$.each(modalConfigs,function(t,e){modal[t]=function(t,s){return modal($.extend({},e,{content:t||e.content},s))}}),$.modal=modal,$.Modal=Modal,$._alert=function(t,e,s){return $(".js-modal-bg, .js-modal").remove(),$.Dialog.remove(),s=$.extend({},s||{}),"function"==typeof e?(s.title="提示",s.onAccept=s.onCancel=e):s.title=e||"提示",window.top.$modal?window.top.$modal.alert(t,s):$.modal.alert(t,s)},$._loading=function(t,e,s){var n=$._alert(t,e,s),o=$('<div class="modal-loading"><div class="spin"></div><p>'+t+"</p></div>");return n.$.find(".bd-msg").empty().append(o),n.$.find(".modal-loading .spin").spin(!0),n},module.exports=modal});
/*!edu_modules/edu-comment-auth/index*/
;define("edu_modules/edu-comment-auth/index",function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function d(e,n){var t=e.commentState,o=e.onAuthFail,d=void 0===o?function(){}:o,a=e.onFirstComment,c=void 0===a?function(){}:a,l=e.onSecondComment,s=void 0===l?function(){}:l;if(2===t)return void i(e);var f=m(e);return f?void(d(f)!==!1&&r.default.modal.alert(f,{title:"提示"})):0!==t?(i(e),void s()):void c(u(e,n))}function i(e){var n=e.id;window.open(s+n,"_blank")}function m(e){var n="",t=e.status,o=e.isStudent,d=e.isLevelHigh,i=e.isApplied,m=e.isTaskDone,u=e.needTime;return-1===t?n="服务器错误":o?d?i?m||(n=u?"很抱歉，您需要再上课"+u+"分钟才能评论。":"很抱歉，您的学习进度不足，暂时无法评论。"):n="很抱歉，您还没有报名该课程，暂时无法评论。":n="很抱歉，您的QQ等级低于16级，暂不支持评论课程。":n="抱歉，机构老师不支持对该课程进行评价。",n}function u(e,n){var t=e.commentBox,o=e.id,d=e.name,i=e.$comment;return(t=i&&i.data("commentBox"))?(t.show(),t):(t=new l.default(r.default.extend({},n,{id:o,name:d,starLabel:f})),i&&i.data&&i.data("commentBox",t),t)}var a=e("jquery"),r=o(a),c=e("edu_modules/edu-comment-box/index"),l=o(c);e("edu_modules/modal/modal");var s="//ke.qq.com/comment/index.html?cid=",f=["差评！课程太差了，我要吐槽！","勉强中评！课程不满意","中评！课程一般","好评！课程还不错，继续保持！","五星好评！课程非常棒，点赞！"],v={0:"评价课程",1:"追加评价",2:"我的评价"};t.exports={auth:d,jumpCommentPage:i,getAuthWordings:m,getCommentBox:u,commentWordingMap:v,STAR_LABEL:f}});
/*!/comment/comment.tpl_tpl*/
;define("/comment/comment.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="imgtext-course"> <a class="img-left" target="_blank" href="//ke.qq.com/course/',data.cid,'"><img src="',data.cover_url,'" width="220" height="124" alt="',data.name,'"></a> <div class="text-right"> <h1 class="page-tt"><a target="_blank" class="page-tt-link" href="//ke.qq.com/course/',data.cid,'">',data.name,'</a></h1> <p class="course-class">',data.term_name,'</p> </div></div><form class="form form--h"> <div class="f-item"> <label class="f-label">课程评分</label> <div class="f-field"> <div class="star-list star-list--comment js-star-list"> <i data-index="1" class="icon-font i-star"></i> <i data-index="2" class="icon-font i-star"></i> <i data-index="3" class="icon-font i-star"></i> <i data-index="4" class="icon-font i-star"></i> <i data-index="5" class="icon-font i-star"></i> </div> <div class="star-list-intro"> <span class="star-num js-star-num">5星</span> <span class="star-text js-star-text">五星好评！课程非常棒，点赞！</span> </div> </div> </div> <div class="f-item"> <label class="f-label">',"undefined"!=typeof data.first_comment?"追加评论":"学习感受",'</label> <div class="f-field"> <div class="textarea-wrap"> <textarea class="f-textarea js-f-textarea" placeholder="课程怎么样？快来说说学习感受吧"></textarea> <p class="text-remain js-text-remain">还可以输入<span class="remain-num js-remain-num">',MAX_COMMENT_LEN,'</span>字</p> <p class="comment-error-tips js-error-tips error-hidden"></p> </div> '),"undefined"!=typeof data.first_comment&&(_$out_.push(' <div class="comment-reply reply--write"> '),data.first_comment&&(_$out_.push(' <div class="reply-item"> <div class="reply-bd"><strong class="reply-tt">初次评论：</strong>',data.first_comment,'</div> <div class="comment-ft"> '),data.first_comment_study_time&&_$out_.push(' <span class="comment-where">',opt.formatStudyTime(data.first_comment_study_time),"</span> "),_$out_.push(' <span class="comment-time">',timeRender(1e3*data.first_comment_time),"</span> </div> </div> ")),_$out_.push(" "),data.first_reply&&_$out_.push(' <div class="reply-item item--agency"> <div class="reply-bd"><strong class="reply-tt">机构回复：</strong>',data.first_reply,'</div> <div class="comment-ft"> <span class="comment-time">',timeRender(1e3*data.first_reply_time),"</span> </div> </div> "),_$out_.push(" </div> ")),_$out_.push(' </div> </div> <div class="f-item f-item--submit"> <div class="f-field"> <span class="btn-default btn-m js-submit-commment">发表评价</span> <label class="f-checkbox js-f-checkbox ',isWeixin?"hide-f-checkbox":"",'"><i class="icon-checkbox"></i><span class="f-rc-text">分享到QQ空间</span></label> </div> </div></form>'),_$out_.join("")}}});
/*!/comment/myComment.tpl_tpl*/
;define("/comment/myComment.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push(' <div class="imgtext-course"> <a target="_blank" class="img-left" href="//ke.qq.com/course/',data.cid,'"><img src="',data.cover_url,'" width="220" height="124" alt="',data.name,'"></a> <div class="text-right"> <h1 class="page-tt"><a target="_blank" class="page-tt-link" href="//ke.qq.com/course/',data.cid,'">',data.name,'</a></h1> <p class="course-class">',data.term_name,'</p> </div> </div> <form class="form form--h"> <div class="f-item"> <label class="f-label">课程评分</label> <div class="f-field"> <div class="star-list star-list--comment js-star-display-list"> <i data-index="1" class="icon-font i-star"></i> <i data-index="2" class="icon-font i-star"></i> <i data-index="3" class="icon-font i-star"></i> <i data-index="4" class="icon-font i-star"></i> <i data-index="5" class="icon-font i-star"></i> </div> </div> </div> <div class="f-item"> <div class="f-field"> <div class="comment-reply reply--write"> <div class="reply-item"> <div class="reply-bd"><strong class="reply-tt">初次评论：</strong>',data.first_comment,'</div> <div class="comment-ft"> '),data.first_comment_study_time&&_$out_.push(' <span class="comment-where">',opt.formatStudyTime(data.first_comment_study_time),"</span> "),_$out_.push(' <span class="comment-time">',timeRender(1e3*data.first_comment_time),"</span> </div> </div> "),data.first_reply&&_$out_.push(' <div class="reply-item item--agency"> <div class="reply-bd"><strong class="reply-tt">机构回复：</strong>',data.first_reply,'</div> <div class="comment-ft"> <span class="comment-time">',timeRender(1e3*data.first_reply_time),"</span> </div> </div> "),_$out_.push(' <div class="reply-item"> <div class="reply-bd"><strong class="reply-tt">追加评论：</strong>',data.second_comment,'</div> <div class="comment-ft"> '),data.second_comment_study_time&&_$out_.push(' <span class="comment-where">',opt.formatStudyTime(data.second_comment_study_time),"</span> "),_$out_.push(' <span class="comment-time">',timeRender(1e3*data.second_comment_time),"</span> </div> </div> "),data.second_reply&&_$out_.push(' <div class="reply-item item--agency"> <div class="reply-bd"><strong class="reply-tt">机构回复：</strong>',data.second_reply,'</div> <div class="comment-ft"> <span class="comment-time">',timeRender(1e3*data.second_reply_time),"</span> </div> </div> "),_$out_.push(" </div> <div></div> </div> </div> </form>"),_$out_.join("")}}});
/*!/comment/result.tpl_tpl*/
;define("/comment/result.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];if(_$out_.push('<section class="section-msg"> <div class="msg-inner"> <i class="icon-msg-large icon-font ',1==data.repeated?"i-alert":"i-success",'"></i> <div class="msg-text--lines"> '),1==data.repeated?_$out_.push(' <h3 class="msg-tt">',0==data.comment_type?"您已提交过初次评论，请勿重复提交":"您已进行过追加评价，请勿重复提交","</h3> "):_$out_.push(' <h3 class="msg-tt">评价成功</h3> '),_$out_.push(' <a target="_blank" href="//ke.qq.com/user/index/index.html#cid=',data.cid,'" class="btn-outline btn-m" report-tdw=\'action=course_comment_result_button&obj1=',1==data.repeated?2:1,'\'>返回课程</a> </div> </div></section><section class="section-comment-others"> '),"undefined"!=typeof data.more_items&&0!==data.more_items.length){_$out_.push(' <h3 class="section-tt">我还可以评</h3> <div class="section-bd"> <ul class="comment-course-list clearfix"> ');for(var i=0;i<data.more_items.length;i++){var item=data.more_items[i];_$out_.push(' <li> <a target="_blank" href="//ke.qq.com/course/',item.cid,'" class="item-img-link"><img src="',item.cover_url,'220" width="220" height="124" alt="',item.name,'"></a> <h4 class="item-tt"><i class="icon-font i-tupu"></i><a target="_blank" href="//ke.qq.com/course/',item.cid,'" class="item-tt-link">',item.name,'</a></h4> <div class="item-line"> <a target="_blank" href="//ke.qq.com/comment/index.html?cid=',item.cid,'" class="btn-default btn-s">评价</a> <a target="_blank" href="//',item.agency_domain,'" class="item-source">',item.agency_name,"</a> </div> </li> ")}_$out_.push(" </ul> </div> ")}return _$out_.push(" "),"undefined"!=typeof data.recommand&&0!==data.recommand.length&&_$out_.push(' <h3 class="section-tt">老师还为你推荐了以下几门课程</h3> <div class="section-bd js-course-list"> </div> '),_$out_.push("</section>"),_$out_.join("")}}});
/*!/edu_modules/edu-tpl-cardlistnew/edu-tpl-cardlistnew.tpl_tpl*/
;define("/edu_modules/edu-tpl-cardlistnew/edu-tpl-cardlistnew.tpl_tpl",function(require,exports,module){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<!-- opt = { simplify: true, //简化模式，少了第二行 sIndex: 1, //首页楼层上报用 fIndex: 2, //首页楼层上报用 noAgency: true, //简化模式下不展示机构信息，展示学习人数 showTopo: true, //开启展示图谱“更多阶段” hideStatus: true,//隐藏课程状态栏 lazyload: true //课程图懒加载 } 2017-02-10，pagelocation改变增加cors-name属性 --><ul class="course-card-list" auto-test="',opt.auto_test?opt.auto_test:"",'">'),opt||(opt={});var userAgent=navigator.userAgent.toLowerCase(),isSupportWebp=!1;(-1!=userAgent.indexOf("chrome")||-1!=userAgent.indexOf("opear"))&&(isSupportWebp=!0);for(var i=0,len=course_list.length;len>i;i++){var task_live,task_video,task_doc,task_exam,task_answer,task_replay,bgTime,courseURL,course_score_str,apply_num_str,item=course_list[i],now=new Date,status_str="",cardPos=null,isToday=!1,isClassOn=!1,price_str="",term_num_str="",topoType=0;"undefined"==typeof item.cid&&(item.cid=item.id),item.cid=item.cid?item.cid:item.id?item.id:item.cid;var packageId,isPkg=0;(item.cid>1e7||1===item.info_type)&&(isPkg=1,packageId=item.cid),packageId>1e7&&(packageId-=1e7),now/1e3>item.sub_bgtime&&now/1e3<item.sub_endtime&&item.trans_flag>0&&(isClassOn=!0),item.task_flag=item.task_flag||0,task_live=1&item.task_flag,task_video=2&item.task_flag,task_doc=4&item.task_flag,task_exam=8&item.task_flag,task_answer=16&item.task_flag,task_replay=32&item.task_flag,item.total_task_num=item.total_task_num||0,item.endtime&&item.endtime<now/1e3?status_str="已结束":task_video||task_exam||task_answer||task_replay&&0===task_live||task_doc?(term_num_str=item.term_num>1?"":"（共"+item.total_task_num+"节）",status_str="随到随学"+term_num_str):task_live>0?item.term_num>1?status_str="开设"+item.term_num+"个班级":0===parseInt(item.curr_task_no,10)&&now/1e3<item.bg_class_time?status_str=$.render.time.formatDate("YYYY-M-D",1e3*item.bg_class_time)+"开课":(isClassOn&&(item.curr_task_no+=1),status_str="进度："+item.curr_task_no+"/"+item.total_task_num+"节"):status_str="",item.price>item.discount_price&&(item.price=item.discount_price),price_str=item.price<1e6?$.render.formatPrice(item.price):"¥"+(item.price/100).toFixed(0),item.know_points&&item.know_points.length>0&&(topoType=1===item.know_points.length?1:2),item.sub_bgtime&&(bgTime=new Date(1e3*item.sub_bgtime),bgTime.getFullYear()===now.getFullYear()&&bgTime.getMonth()===now.getMonth()&&bgTime.getDate()===now.getDate()&&(isToday=!0));var show_apply_num;show_apply_num=item.price>0?item.apply_num:item.recent_sign_num,apply_num_str=show_apply_num?1e4>show_apply_num?show_apply_num:show_apply_num>=1e4&&1e8>show_apply_num?Math.floor(show_apply_num/1e4)+"万":Math.floor(show_apply_num/1e8)+"亿":"0",now/1e3>item.sub_bgtime&&now/1e3<item.sub_endtime&&item.trans_flag>0&&(isClassOn=!0),void 0===item.curr_lesson&&(item.curr_lesson=item.cur_lesson),"undefined"==typeof item.room_url&&(item.room_url=item.room_url_4client),courseURL="//ke.qq.com/course/"+item.cid,isPkg&&(courseURL="//ke.qq.com/course/package/"+packageId),course_score_str=Math.floor(item.course_score/100)+"."+Math.floor(item.course_score%100/10),cardPos=opt.cardPos?opt.cardPos+"."+(i+1):"1."+(i+1),_$out_.push(' <li class="course-card-item',isClassOn&&!opt.simplify?" now":"",'" '),opt.fIndex&&_$out_.push(' jump-start="topfloor_class_click" jump-through="',opt.fIndex,"&",opt.sIndex,"&",i+1,'"'),_$out_.push(' data-report-position="',i+1,'" > <a href="',courseURL,'" target="_blank" class="item-img-link" data-id="',item.cid,'" data-index="',i+1,'" report-tdw="action=Coursecard_Coursecover-clk&ver1=',item.cid,"&ver3=",cardPos,'" cors-name="course"> '),opt.lazyload?_$out_.push(' <img lazy-src="',item.cover_url,'356" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124"/> '):(_$out_.push(" "),isSupportWebp?_$out_.push(' <img src="',item.cover_url,'356?tp=webp" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" onerror="this.src=\'',item.cover_url,"';this.onerror=null;\"/> "):_$out_.push(' <img src="',item.cover_url,'356" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" onerror="this.src=\'//9.url.cn/edu/edu_modules/edu-ui/img/nohash/img-err2.png\';this.onerror=null;"/> '),_$out_.push(" ")),_$out_.push(" </a> "),opt.hideStatus||""==status_str||(_$out_.push(' <div class="item-status"> <span class="item-status-step">',status_str,"</span> "),isClassOn&&0===item.price&&_$out_.push(' <div class="item-status-going"> <a href="javascript:void(0);" class="going-tips">直播中</a> <a class="going-jump js-open-tencent" href="javascript:void(0);" data-streambitflag="',item.course_bit_flag,'" data-tid="',item.term_id,'" data-aid="',item.aid,'" data-cid="',item.cid,'" data-type="',item.type,'" data-target="',item.room_url,'"',0===item.room_url.indexOf("http")?' target="_blank"':"",' report-tdw="action=Coursecard_Courseenter-clk&ver1=',item.cid,"&ver3=",cardPos,'">进入课堂<i class="icon-font i-v-right"></i></a> </div> '),_$out_.push(" </div> ")),_$out_.push(" "),item.activity_label&&0!==item.activity_label.length&&item.activity_label[0].icon_url&&_$out_.push(' <a href="',item.activity_label[0].activity_url,'" title="',item.activity_label[0].name,'" class="item-activity" target="_blank"><img src="',item.activity_label[0].icon_url,'"/></a> '),_$out_.push(' <h4 class="item-tt"> '),topoType>0&&_$out_.push(' <i class="icon-font i-tupu" title="图谱认证"></i> '),_$out_.push(" "),1==isPkg?_$out_.push(' <a href="',courseURL,'" target="_blank" class="item-tt-link item-tt-link-pkg" title="',item.name,'" report-tdw="action=Coursecard_Coursesname-clk&ver1=',item.cid,"&ver3=",cardPos,'&obj1=1" cors-name="course">',item.name,'</a> <div class="item-tt-pkg-wrap"><div class="item-tt-pkg-num">',item.term_num,"</div></div> "):_$out_.push(' <a href="',courseURL,'" target="_blank" class="item-tt-link" title="',item.name,'" report-tdw="action=Coursecard_Coursesname-clk&ver1=',item.cid,"&ver3=",cardPos,'" cors-name="course">',item.name,"</a> "),_$out_.push(" </h4> ");var itemNamelist="";if(item.certificate_industry2list&&item.certificate_industry2list.length>0)for(var index in item.certificate_industry2list)itemNamelist=itemNamelist+item.certificate_industry2list[index].industry2nd_name+" ";if(_$out_.push(" "),opt.simplify||(_$out_.push(' <div class="item-line item-line--middle"> <span class="line-cell item-user"> ',apply_num_str,"人"),_$out_.push(item.price>0?"购买":"最近报名"),_$out_.push(' </span> <span class="item-source"> '),1==item.certificate_flag&&_$out_.push(' <a target="_blank" href="//ke.qq.com/faq.html?id=10" class="icon-renzheng" data-ind2name="',itemNamelist.replace(/undefined\s/g,""),'" title="',itemNamelist.replace(/undefined\s/g,""),'类目认证机构" ></a> '),_$out_.push(' <a href="//',item.agency_domain,'" target="_blank" class="item-source-link" title="',item.agency_name,'" rel="nofollow" report-tdw="action=Coursecard_Courseregister-clk&ver1=',item.cid,"&ver3=",cardPos,'">',item.agency_name,"</a> </span> </span> </div> ")),_$out_.push(' <div class="item-line item-line--bottom"> <span class="line-cell item-price',0===item.price?" free":"",'">',price_str,"</span> "),item.has_listen_class>0&&item.price>0&&_$out_.push(' <i class="icon-can-try"></i> '),_$out_.push(" "),opt.showTopo&&topoType>1){_$out_.push(' <div class="topo-wrapper"> <a href="javascript:void(0);" class="topo-step">涵盖更多阶段<i class="icon-font i-v-right"></i></a> <div class="step-include"> ');for(var j=0,l=item.know_points.length;l>i;i++){_$out_.push(" ");var point=item.know_points[j];_$out_.push(' <span class="include-tag" title="',point,'">',point,"</span> ")}_$out_.push(" </div> </div> ")}else!opt.noAgency&&opt.simplify?(_$out_.push(' <span class="item-source"> '),1==item.certificate_flag&&_$out_.push(' <a target="_blank" href="//ke.qq.com/faq.html?id=10" class="icon-renzheng" data-ind2name="',itemNamelist.replace(/undefined\s/g,""),'" title="',itemNamelist.replace(/undefined\s/g,""),'类目认证机构"></a> '),_$out_.push(' <a href="//',item.agency_domain,'" target="_blank" class="item-source-link" title="',item.agency_name,'" rel="nofollow" report-tdw="action=Coursecard_Courseregister-clk&ver1=',item.cid,"&ver3=",cardPos,'">',item.agency_name,"</a> </span> ")):(_$out_.push(' <span class="line-cell item-user item-user--right"> ',apply_num_str,"人"),_$out_.push(item.price>0?"购买":"最近报名"),_$out_.push(" </span> "));_$out_.push(" </div> </li>")}return _$out_.push("</ul>"),_$out_.join("")}}});
/*!edu_modules/edu-tpl-cardlistnew/index*/
;define("edu_modules/edu-tpl-cardlistnew/index",function(e,d,l){l.exports=e("/edu_modules/edu-tpl-cardlistnew/edu-tpl-cardlistnew.tpl_tpl")});
/*!comment/mod.main*/
;define("comment/mod.main",function(e){function t(){a.getCourseCommentInfo({param:{cid:D.cid},succ:function(e){var t=e.result||{},o=c(".js-section-comment-write"),i={data:t,isWeixin:C,timeRender:M,MAX_COMMENT_LEN:b},m={formatStudyTime:p.formatStudyTime};if(t.cid=D.cid,void 0!==t.second_comment){t.first_comment=T(t),o.html(g(i,m));var a=parseInt(t.rating);c(".js-star-display-list i[data-index="+a+"]").addClass("active")}else void 0!==t.first_comment?(D.comment_type=1,D.id=t.id,t.first_comment=T(t),o.html(j(i,m)),n(),t.rating?D.level=t.rating:"",D.msg=r(D.level),s()):(o.html(j(i,m)),n());c(".js-f-textarea").placeholder()},err:function(e){0!==e.retcode&&setTimeout(function(){location.href="//ke.qq.com/course/"+D.cid},2e3)}})}function n(){f=c(".js-error-tips"),c(".js-star-list i").each(function(e,t){c(t).hover(function(){q.find(".js-star-list i").removeClass("active");var e=parseInt(c(this).attr("data-index")),t="";t=r(e),c(".js-star-text").text(t),c(".js-star-num").text(e+"星"),c(this).addClass("active")},function(){c(this).removeClass("active"),s()})}),c(".f-textarea").on("keydown paste cut",function(){setTimeout(function(){var e=c(".js-f-textarea").val(),t=(c(".js-remain-num"),c(".js-text-remain")),n=c.validator.str_length(e,1,!0);if(k>n)t.html('请输入至少<span class="remain-num js-remain-num">15</span>字');else if(n>b){var r=n-b;t.html('已经超过<span class="remain-num js-remain-num">'+r+"</span>字")}else{var s=b-n;t.html('还可以输入<span class="remain-num js-remain-num">'+s+"</span>字")}o()},0)}),c(".js-f-checkbox").click(function(){c(this).toggleClass("checked")}),q.on("click",".js-submit-commment",i).on("click",".js-star-list i",function(){var e=parseInt(c(this).attr("data-index"));D.level=e,D.msg=r(e),s(),o()})}function r(e){var t="",n=0;switch(e){case 1:t="差评！课程太差了，我要吐槽！",n=1;break;case 2:t="勉强中评！课程不满意",n=2;break;case 3:t="中评！课程一般",n=3;break;case 4:t="好评！课程还不错，继续保持！",n=4;break;case 5:t="五星好评！课程非常棒，点赞！",n=5}return t}function s(){c(".js-star-text").text(D.msg),c(".js-star-num").text(D.level+"星"),q.find(".js-star-list i").eq(D.level-1).addClass("active")}function o(){var e="",t=c(".js-f-textarea").val();return h=t.replace(/^[\r\n]+|[\r\n]+$/g,"").replace(/\s+/g," ").replace(/^\s$/g,""),t.length<k?e="小于15字的评论无法提交，请修改":t.length>b&&(e="已超过最大字数限制"),e?f.text(e).removeClass("error-hidden"):f.addClass("error-hidden"),!e}function i(){o()&&(c(".js-error-tips").hasClass("error-hidden")&&a.submitCourseComment({param:{cid:D.cid,id:D.id,rating:D.level,comment:h,comment_type:D.comment_type,share:+c(".js-f-checkbox").hasClass("checked")},succ:function(e){var t,n=e.result||{};n.cid=D.cid,n.comment_type=D.comment_type,q.find(".js-section-comment-write").hide(),c(".js-section-comment-success").html(x({data:n})),"undefined"!=typeof n.recommand&&0!==n.recommand.length?(c(".js-course-list").html(y({course_list:n.recommand},{noAgency:!0,simplify:!0})).lazyload(),t=2):t=1;var r=1==n.repeated?2:1;c(".section-comment-others li").attr("report-tdw","action=course_comment_result_card&obj1="+r+"&obj2="+t),l.tdw({action:"course_comment_result",obj1:r})},err:function(e){var t="";return 106442==e.retcode?t="您的描述中存在敏感词汇，请重新输入":501==e.retcode&&(t="内容不合法，请重新提交"),f.text(t).removeClass("error-hidden"),!0}}),l.tdw({action:"course_comment_submit",obj1:D.level,obj2:0==h.length?1:2,ver3:D.comment_type+1}))}function m(){var e=c.bom.query("cid");u({module:"comment",ver1:e}),e?D.cid=e:location.href="//ke.qq.com",d.isLogin()?t():d.show({succ:function(){t()},close:function(){window.location.href="/index.html"}})}var c=e("jquery"),a=e("comment/db"),d=e("edu_modules/edu-login/edu-login"),l=e("edu_modules/edu-report/edu-report"),u=e("edu_modules/report.common.init/report.common.init");e("edu_modules/edu-render/edu-render"),e("edu_modules/validator/validator"),e("@tencent/im-jquery.placeholder/jquery.placeholder");var f,h,v=e("edu_modules/check/check"),p=e("edu_modules/edu-comments/comments"),_=e("edu_modules/edu-comment-auth/index"),j=e("/comment/comment.tpl_tpl"),g=e("/comment/myComment.tpl_tpl"),x=e("/comment/result.tpl_tpl"),y=e("edu_modules/edu-tpl-cardlistnew/index"),C=v.isWeixinUser(),b=1e3,k=15,w=_.STAR_LABEL,q=c(document),D={cid:96257,id:0,level:5,msg:"五星好评！课程非常棒，点赞！",comment_type:0},T=function(e){var t=e.first_comment_score;return e.first_comment?e.first_comment:5===t?w[t-1]:w[3]},M=function(e){var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());return e-n.getTime()>0?c.render.time.formatDate("hh:mm",e):c.render.time.formatDate("YYYY-MM-DD",e)};m()});
window.__loadJs&&window.__loadJs('/comment/mod.main.ebda3aa9.js',2);